<div >
    <div >
        <div class="menu-tool-bar he">
            <div class="ptitle">
                <span jhiTranslate="ebwebApp.sAInvoice.home.title"></span>
            </div>
            <div class="gr-toolbar">
                <button *ebHasSomeAuthority="['ROLE_ADMIN', ROLE_Them]" class="button-navigation"
                   (click)="addNew($event)" title="{{'ebwebApp.outWard.tooltipAdd' | translate}}"><i class="mdi mdi-plus"></i> <span
                    jhiTranslate="ebwebApp.common.add"> Thêm </span></button>
                <button [disabled]="!sAInvoices || sAInvoices.length === 0 || !selectedRow || (selectedRow.recorded && selectedRows.length === 1) || checkCloseBook(currentAccount, selectedRow.postedDate) || !checkMultiButton(false)" class="button-navigation"
                   *ebHasSomeAuthority="['ROLE_ADMIN', ROLE_Xoa]"
                   (click)="delete()" title="{{'ebwebApp.outWard.tooltipDrop' | translate}}"><i
                    class="mdi mdi-delete"></i> <span jhiTranslate="ebwebApp.mCReceipt.home.delete"></span></button>
                <button *ebHasSomeAuthority="['ROLE_ADMIN', ROLE_GhiSo]" class="button-navigation"
                   [disabled]="!sAInvoices || sAInvoices.length === 0 || !selectedRow || checkCloseBook(currentAccount, selectedRow.postedDate)" title="{{'ebwebApp.outWard.tooltipRecord' | translate}}"
                   [hidden]="selectedRow?.recorded && !checkMultiButton(false)" (click)="record()"><i
                    class="mdi mdi-grease-pencil"></i> <span
                    jhiTranslate="ebwebApp.mCReceipt.home.record"></span></button>
                <button *ebHasSomeAuthority="['ROLE_ADMIN', ROLE_GhiSo]" class="button-navigation"
                   [disabled]="!sAInvoices || sAInvoices.length === 0 || !selectedRow || (checkCloseBook(currentAccount, selectedRow.postedDate) && selectedRows.length === 1)"
                   title="{{'ebwebApp.outWard.tooltipUnRecord' | translate}}"
                   [hidden]="!selectedRow?.recorded && !checkMultiButton(true)" (click)="unrecord()"><i
                    class="mdi mdi-grease-pencil"></i> <span jhiTranslate="ebwebApp.mCReceipt.home.unrecord"></span></button>
                <button [disabled]="!sAInvoices || sAInvoices.length === 0" class="button-navigation" *ebHasSomeAuthority="['ROLE_ADMIN', ROLE_KetXuat]" (click)="exportPdf()"
                   title="{{'ebwebApp.outWard.tooltipExport' | translate}}"
                ><i class="mdi mdi-file-export"></i> <span jhiTranslate="entity.action.render">Kết xuất</span></button>
                <button class="button-navigation" (click)="isShowSearch = !isShowSearch" title="{{'ebwebApp.outWard.tooltipSearch' | translate}}">
                    <i class="{{isShowSearch?'mdi mdi-chevron-up':'mdi mdi-magnify'}}"></i>
                    <span
                        jhiTranslate="{{!isShowSearch ? 'ebwebApp.common.advancedSearch' : 'ebwebApp.common.hideSearch'}}"> Tìm kiếm </span>
                </button>

            </div>
        </div>

        <div class="frm-main frm-mains nobg">
            <form id="search" style="background: #cbdcf0;" [hidden]="!isShowSearch">
                <div class="row">
                    <div class="col-lg-3">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label" style="padding: 0px 0px 0px 15px" jhiTranslate="ebwebApp.mBDeposit.detail.typeName">Loại
                                chứng từ</label>
                            <div class="col-sm-7 pd-l-0">
                                <combo-box style="" id="field_typeID"
                                           name="comboboxListType"
                                           [dataList]="types"
                                           [isOutTable]="true"
                                           [valueIsNumber]="true"
                                           [listColumns]="utilService.listColumnsType"
                                           displayMember="typeName"
                                           valueName="id"
                                           [headerColumns]="utilService.listHeaderColumnsType"
                                           [isObject]="false"
                                           [(ngModel)]="typeID">
                                </combo-box>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label" style="padding: 0px 0px 0px 15px" jhiTranslate="ebwebApp.mBDeposit.detail.status">Trạng
                                thái</label>
                            <div class="col-sm-7 pd-l-0">
                                <combo-box style="" id="field_listRecord"
                                           name="comboboxListRecord"
                                           [dataList]="listRecord"
                                           [isOutTable]="true"
                                           [valueIsNumber]="true"
                                           [listColumns]="listColumnsRecord"
                                           displayMember="name"
                                           valueName="value"
                                           [headerColumns]="listHeaderColumnsRecord"
                                           [isObject]="false"
                                           [(ngModel)]="recorded">
                                </combo-box>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label text-right p-0"
                                   jhiTranslate="ebwebApp.mBDeposit.detail.currencyType">Loại tiền</label>
                            <div class="col-sm-7">
                                <combo-box style="" id="field_currencyID"
                                           name="comboboxcurrencyID"
                                           [isOutTable]="true"
                                           [dataList]="currencies"
                                           [listColumns]="utilService.listColumnsCurrency"
                                           displayMember="currencyCode"
                                           valueName="currencyCode"
                                           [headerColumns]="utilService.listHeaderColumnsCurrency"
                                           [isObject]="false"
                                           [(ngModel)]="currencyID"
                                ></combo-box>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label text-right p-0"
                                   jhiTranslate="ebwebApp.mBDeposit.detail.accountingObject">Đối tượng</label>
                            <div class="col-sm-7">
                                <combo-box style=""
                                           name="{{'comboboxaccountingObject_DT'}}"
                                           [isOutTable]="true"
                                           [dataList]="accountingObjects"
                                           [listColumns]="utilService.listColumnsAccountingObjects"
                                           displayMember="accountingObjectCode"
                                           valueName="id"
                                           [headerColumns]="utilService.listHeaderColumnsAccountingObject"
                                           [isObject]="false"
                                           [(ngModel)]="accountingObjectID"
                                ></combo-box>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label text-right p-0"
                                   jhiTranslate="ebwebApp.mBDeposit.detail.fromDate">Từ ngày</label>
                            <div class="col-sm-4">
                                <eb-date-picker [(ngModel)]="fromDate" name="fromDate"></eb-date-picker>
                            </div>
                            <label class="col-sm-2 col-form-label text-right p-0"
                                   jhiTranslate="ebwebApp.mBDeposit.detail.toDate">Đến ngày</label>
                            <div class="col-sm-4">
                                <eb-date-picker [(ngModel)]="toDate" name="toDate"></eb-date-picker>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label text-right p-0"
                                   jhiTranslate="ebwebApp.sAInvoice.searchValue">Tìm kiếm</label>
                            <div class="col-sm-10">
                                <input [(ngModel)]="keySearch" name="searchValue" id="field_searchValue" style="height: 32px !important;"
                                       type="text" class="form-control form-control-sm">
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="frm-button">
                            <button class="btn btn-success btn-sm" (click)="search()" style="font-size: 16px"><i
                                class="mdi mdi-magnify"
                                aria-hidden="true"
                                style="margin-right: 5px"></i><span
                                jhiTranslate="ebwebApp.purchaseOrder.search"></span>
                            </button>
                            <button class="btn btn-danger btn-sm" (click)="clearSearch()" style="font-size: 16px"><i
                                class="mdi mdi-replay"
                                style="margin-right: 5px"></i><span
                                jhiTranslate="ebwebApp.mBDeposit.detail.reset"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </form>
            <div class="frm-main frm-tables frm-padding" style="background: #cbdcf0; margin-top: 5px">
                <div id="table-scroll0" class="table-scroll voucher-table">
                    <table id="main-table0" class="main-table">
                        <thead class="header-table">
                        <tr>
                            <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.pPDiscountReturn.voucherDate">
                                Ngày chứng từ
                            </th>
                            <th scope="col" style="width: 150px"
                                jhiTranslate="ebwebApp.pPDiscountReturn.accountingDate">Ngày hạch toán
                            </th>
                            <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.pPDiscountReturn.voucherNumber">
                                Số chứng từ
                            </th>
                            <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.sAInvoice.invoiceNo">Số hóa đơn
                            </th>
                            <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.sAInvoice.typeName"></th>
                            <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.sAInvoice.accountingObjectName">
                                Đối
                                tượng
                            </th>
                            <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.pPDiscountReturn.explain">Diễn
                                giải
                            </th>
                            <th scope="col" style="width: 150px"
                                jhiTranslate="ebwebApp.sAInvoice.totalAmount">Tổng tiền hàng
                            </th>
                            <th scope="col" style="width: 150px"
                                jhiTranslate="ebwebApp.sAInvoice.totalDiscountAmount">Tổng tiền CK
                            </th>
                            <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.sAInvoice.totalVATAmount">Tổng
                                thuế GTGT
                            </th>
                            <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.sAInvoice.totalCapitalAmount">
                                Tổng tiền thanh toán
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let item of sAInvoices; let i = index ;trackBy: trackId"
                            (click)="selectMultiRow(item, $event, sAInvoices)"
                            [class.selected]="this.selectedRows.indexOf(item) !== -1"
                            [ngStyle]="getStyle(item.recorded)"
                            (dblclick)="doubleClickRow(item)">
                            <td title="{{item.date | date:'dd/MM/yyyy'}}" class="jsgrid-cell jsgrid-align-center"
                                style="width: 150px">{{item.date | date:'dd/MM/yyyy'}}</td>
                            <td title="{{item.postedDate | date:'dd/MM/yyyy'}}" class="jsgrid-cell jsgrid-align-center"
                                style="width: 150px">{{item.postedDate| date:'dd/MM/yyyy'}}</td>
                            <td title="{{item.noBook}}" class="jsgrid-cell jsgrid-align-center"
                                style="width: 150px">{{item.noBook}}</td>
                            <td title="{{item.invoiceNo}}" class="jsgrid-cell jsgrid-align-left"
                                style="width: 150px">{{item.invoiceNo}}</td>
                            <td title="{{item.typeName}}" class="jsgrid-cell jsgrid-align-left"
                                style="width: 150px">{{item.typeName}}</td>
                            <td title="{{item.accountingObjectName}}" class="jsgrid-cell jsgrid-align-left"
                                style="width: 150px">{{item.accountingObjectName}}</td>
                            <td title="{{item.reason}}" class="jsgrid-cell jsgrid-align-left"
                                style="width: 150px">{{item.reason}}</td>
                            <td title="{{item.totalAmount}}" class="jsgrid-cell jsgrid-align-right">{{item.totalAmount | ebcurrency: 7: currentAccount}}</td>
                            <td title="{{item.totalDiscountAmount}}" class="jsgrid-cell jsgrid-align-right">{{item.totalDiscountAmount | ebcurrency: 7: currentAccount}}</td>
                            <td title="{{item.totalVATAmount}}" class="jsgrid-cell jsgrid-align-right">{{item.totalVATAmount | ebcurrency: 7: currentAccount}}</td>
                            <td [title]="item.totalVATAmount + item.totalAmount - item.totalDiscountAmount"
                                class="jsgrid-cell jsgrid-align-right">{{item.totalVATAmount + item.totalAmount - item.totalDiscountAmount | ebcurrency: 7: currentAccount}}</td>
                        </tr>
                        <tr *ngFor="let item of newArr(10 - sAInvoices?.length)">
                            <td><input type="text" readonly
                                       class="input-Cell"></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
        <!--        phân trang-->
        <div *ngIf="sAInvoices && sAInvoices.length"
             style="padding-right: 16px;">
            <div class="row" style="height: 32px">
                <div class="col-md-4">
                    <p style="padding-right: 5px;">
                        <span jhiTranslate="ebwebApp.saBill.totalAmountTt"></span>:
                        <input type="text" class="input-Cell-label" disabled
                               [ngModel]="sAInvoices[0]?.total"
                               ebCurrencyMask [systemOptions]="currentAccount?.systemOption" [type]="7"
                               [textAlign]="'left'">
                    </p>
                </div>
                <div class="col-md-8">
                    <div class="row justify-content-end" style="height:32px">
                        <div class="col-lg-4">
                            <div class="form-group row">
                                <label class="col-sm-9 col-form-label text-right" for="itemsPerPage">
                                    <span jhiTranslate="ebwebApp.mCPayment.total"></span> : {{totalItems}}
                                </label>
                                <div class="col-sm-3 pd-l-0">
                                    <select class="form-control form-control-sm" name="itemsPerPage" id="itemsPerPage"
                                            style="background-color: #f5f7fa;" [(ngModel)]="itemsPerPage" (ngModelChange)="selectedItemPerPage()" >
                                        <option [value]="10">10</option>
                                        <option [value]="20">20</option>
                                        <option [value]="30">30</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="justify-content-end">
                            <ngb-pagination [size]="'sm'" [collectionSize]="totalItems" [(page)]="page" [pageSize]="itemsPerPage"
                                            [maxSize]="5" [rotate]="true" [boundaryLinks]="true"
                                            (pageChange)="loadPage(page)"></ngb-pagination>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--        end of phan trang-->
        <div>
            <ngb-tabset class="tool-navbar">
                <ngb-tab>
                    <ng-template ngbTabTitle><span jhiTranslate="health.details.details"></span>
                    </ng-template>
                    <ng-template ngbTabContent>
                        <div class="tab-content">
                            <div class="frm-main frm-padding tab-pane fade in active show" id="home-detail"
                                 style="background: #cbdcf0">
                                <div id="table-scroll-detail" class="table-scroll">
                                    <table id="main-table-detail" class="main-table">
                                        <thead>
                                        <tr>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.materialGoodsID">Mã hàng</th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.materialGoodsName">Tên hàng
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.isPromotion">Là hàng KM</th>
                                            <th scope="col" jhiTranslate="ebwebApp.sAInvoiceDetails.repositoryID"
                                                *ngIf="selectedRow?.rsInwardOutwardID">Kho
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.sAInvoiceDetails.debitAccount">TK
                                                Nợ
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.sAInvoiceDetails.creditAccount">TK
                                                Có
                                            </th>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.sAInvoiceDetails.accountingObjectID"></th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.unit">Đơn vị tính</th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.quantity">Số lượng</th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.unitPriceOriginal">Đơn giá
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.unitPrice"
                                                *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode">Đơn giá QĐ
                                            </th>
<!--                                            <th scope="col" jhiTranslate="ebwebApp.saBill.mainUnit">ĐVT chính</th>-->
<!--                                            <th scope="col" jhiTranslate="ebwebApp.saBill.mainConvertRate">Tỷ lệ chuyển-->
<!--                                                đổi-->
<!--                                            </th>-->
<!--                                            <th scope="col" jhiTranslate="ebwebApp.saBill.formula">Phép tính</th>-->
<!--                                            <th scope="col" jhiTranslate="ebwebApp.saBill.mainQuantity">Số lượng theo-->
<!--                                                ĐVC-->
<!--                                            </th>-->
<!--                                            <th scope="col" jhiTranslate="ebwebApp.saBill.mainUnitPrice">Đơn giá theo-->
<!--                                                ĐVC-->
<!--                                            </th>-->
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.amountOriginal">Thành tiền
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.amount"
                                                *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode">Thành tiền QĐ
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.discountRate">Tỷ lệ CK</th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.discountAmountOriginal">Tiền
                                                CK
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.discountAmount"
                                                *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode">Tiền CK QĐ
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.sAInvoiceDetails.discountAccount">TK
                                                chiết khấu
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.sAInvoiceDetails.sAOrderNo">Số đơn
                                                hàng
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.lotNo">Số lô</th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.expiredDate">Hạn dùng</th>

                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let detail of sAInvoiceDetails">
                                            <td title="{{getMaterialGoodsByID(detail.materialGoodsID)}}" class="ellip">{{getMaterialGoodsByID(detail.materialGoodsID)}}</td>
                                            <td title="{{detail.description}}" class="ellip">{{detail.description}}</td>
                                            <td class="text-center eb-read-only">
                                                <div class="custom-control custom-checkbox">
                                                    <input type="checkbox" class="custom-control-input"
                                                           id="customCheck1" [(ngModel)]="detail.isPromotion" readonly>
                                                    <label class="custom-control-label" for="customCheck1"></label>
                                                </div>
                                            </td>
                                            <td title="{{getRepositoryByID(detail.repositoryID)}}" *ngIf="selectedRow?.rsInwardOutwardID">{{getRepositoryByID(detail.repositoryID)}}</td>
                                            <td title="{{detail.debitAccount}}" class="text-center">{{detail.debitAccount}}</td>
                                            <td title="{{detail.creditAccount}}" class="text-center">{{detail.creditAccount}}</td>
                                            <td title="{{getAccountingObjectCodeByID(detail.accountingObjectID)}}">{{getAccountingObjectCodeByID(detail.accountingObjectID)}}</td>
                                            <td title="{{getUnitNameByID(detail.unitID)}}">{{getUnitNameByID(detail.unitID)}}</td>
                                            <td title="{{detail.quantity}}" class=" jsgrid-align-right">
                                                {{detail.quantity | ebcurrency: 3: currentAccount}}</td>
                                            <td title="{{detail.unitPriceOriginal}}" class=" jsgrid-align-right">
                                                {{detail.unitPriceOriginal | ebcurrency: (selectedRow?.currencyID !== currencyCode ? 2 : 1): currentAccount}}
                                            </td>
                                            <td title="{{detail.unitPrice}}" class=" jsgrid-align-right"
                                                *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode">
                                                {{detail.unitPrice | ebcurrency: 1: currentAccount}}
                                            </td>
<!--                                            <td title="{{detail.mainUnit?.unitName}}">{{detail.mainUnit?.unitName}}</td>-->
<!--                                            <td title="{{detail.mainConvertRate}}" class=" jsgrid-align-right">-->
<!--                                                <input type="number" class="input-Cell"-->
<!--                                                       [(ngModel)]="detail.mainConvertRate"-->
<!--                                                       [systemOptions]="currentAccount?.systemOption"-->
<!--                                                       [type]="5"-->
<!--                                                       ebCurrencyMask readonly></td>-->
<!--                                            <td title="{{detail.formula}}">{{detail.formula}}</td>-->
<!--                                            <td title="{{detail.mainQuantity}}" class=" jsgrid-align-right">-->
<!--                                                <input type="number" class="input-Cell"-->
<!--                                                       [(ngModel)]="detail.mainQuantity"-->
<!--                                                       [systemOptions]="currentAccount?.systemOption"-->
<!--                                                       [type]="3"-->
<!--                                                       ebCurrencyMask readonly></td>-->
<!--                                            <td title="{{detail.mainUnitPrice}}" class=" jsgrid-align-right">-->
<!--                                                <input type="number" class="input-Cell"-->
<!--                                                       [(ngModel)]="detail.mainUnitPrice"-->
<!--                                                       [systemOptions]="currentAccount?.systemOption"-->
<!--                                                       [type]="1"-->
<!--                                                       ebCurrencyMask readonly></td>-->
                                            <td title="{{detail.amountOriginal}}" class=" jsgrid-align-right">
                                                {{detail.amountOriginal | ebcurrency: (selectedRow?.currencyID !== currencyCode ? 8 : 7): currentAccount}}
                                            </td>
                                            <td title="{{detail.amount}}" class=" jsgrid-align-right"
                                                *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode">
                                                {{detail.amount | ebcurrency: 7: currentAccount}}
                                            </td>
                                            <td title="{{detail.discountRate}}" class=" jsgrid-align-right">
                                                {{detail.discountRate | ebcurrency: 5: currentAccount}}
                                            </td>
                                            <td title="{{detail.discountAmountOriginal}}" class="jsgrid-align-right">
                                                {{detail.discountAmountOriginal | ebcurrency: (selectedRow?.currencyID !== currencyCode ? 8 : 7): currentAccount}}
                                            </td>
                                            <td title="{{detail.discountAmount}}" class="jsgrid-align-right"
                                                *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode">
                                                {{detail.discountAmount | ebcurrency: 7: currentAccount}}
                                            </td>
                                            <td title="{{detail.discountAccount}}" class="text-center">{{detail.discountAccount}}</td>
                                            <td title="{{detail.sAOrderNo}}">{{detail.sAOrderNo}}</td>
                                            <td title="{{detail.lotNo}}">{{detail.lotNo}}</td>
                                            <td title="{{detail.expiryDate | date:'dd/MM/yyyy'}}"
                                                class="text-center">{{detail.expiryDate | date:'dd/MM/yyyy'}}</td>
                                        </tr>
                                        <tr *ngFor="let l of newArr(10 - sAInvoiceDetails?.length)">
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td></td>
                                            <td *ngIf="selectedRow?.rsInwardOutwardID"><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode"><input type="text"
                                                                                                        class="input-Cell"
                                                                                                        readonly></td>
<!--                                            <td><input type="text" class="input-Cell" readonly></td>-->
<!--                                            <td><input type="text" class="input-Cell" readonly></td>-->
<!--                                            <td><input type="text" class="input-Cell" readonly></td>-->
<!--                                            <td><input type="text" class="input-Cell" readonly></td>-->
<!--                                            <td><input type="text" class="input-Cell" readonly></td>-->
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode"><input type="text"
                                                                                                        class="input-Cell"
                                                                                                        readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode"><input type="text"
                                                                                                        class="input-Cell"
                                                                                                        readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <td class="cell-Table countRow">
                                                <input type="text" readonly
                                                       class="input-Cell eb-read-only"
                                                       value="{{'ebwebApp.purchaseOrder.countLine'| translate}} : {{sAInvoiceDetails.length}}">
                                            </td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"
                                                *ngIf="selectedRow?.rsInwardOutwardID"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right">
                                                <input type="text"
                                                       class="input-Cell text-right eb-read-only"
                                                       [ngModel]="sum('quantity')"
                                                       ebCurrencyMask
                                                       [systemOptions]="currentAccount?.systemOption"
                                                       [type]="3"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"
                                                *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode"></td>
<!--                                            <td class="cell-Table countRow text-right"></td>-->
<!--                                            <td class="cell-Table countRow text-right"></td>-->
<!--                                            <td class="cell-Table countRow text-right"></td>-->
<!--                                            <td class="cell-Table countRow text-right"><input type="text"-->
<!--                                                                                              class="input-Cell text-right"-->
<!--                                                                                              [ngModel]="sum('mainQuantity')"-->
<!--                                                                                              readonly-->
<!--                                                                                              ebCurrencyMask-->
<!--                                                                                              [systemOptions]="currentAccount?.systemOption"-->
<!--                                                                                              [type]="3"></td>-->
<!--                                            <td class="cell-Table countRow text-right"></td>-->
                                            <td class="cell-Table countRow text-right">
                                                <input type="text" class="input-Cell text-right eb-read-only"
                                                       [ngModel]="sum('amountOriginal')" readonly
                                                       ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                       [type]="selectedRow?.currencyID !== currencyCode ? 8 : 7"></td>
                                            <td class="cell-Table countRow text-right"
                                                *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode">
                                                <input type="text" class="input-Cell text-right eb-read-only"
                                                       [ngModel]="sum('amount')" readonly
                                                       ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                       [type]="7"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right">
                                                <input type="text" class="input-Cell text-right eb-read-only"
                                                       [ngModel]="sum('discountAmountOriginal')" readonly
                                                       ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                       [type]="selectedRow?.currencyID !== currencyCode ? 8 : 7"></td>
                                            <td class="cell-Table countRow text-right"
                                                *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode">
                                                <input type="text" class="input-Cell text-right eb-read-only"
                                                       [ngModel]="sum('discountAmount')" readonly
                                                       ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                       [type]="7"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </ngb-tab>
                <ngb-tab>
                    <ng-template ngbTabTitle><span jhiTranslate="ebwebApp.common.tax">Thuế</span></ng-template>
                    <ng-template ngbTabContent>
                        <div class="tab-content">
                            <div class="frm-main frm-padding tab-pane fade in active show" id="home-tax"
                                 style="background: #cbdcf0">
                                <div id="table-scroll-tax" class="table-scroll">
                                    <table id="main-table-tax" class="main-table">
                                        <thead>
                                        <tr>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.materialGoodsID"></th>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.explainTax"></th>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.debitAccount"></th>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.creditAccount"></th>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.sAInvoiceDetails.accountingObjectID"></th>
                                            <th *ngIf="selectedRow && selectedRow.exported" scope="col"
                                                jhiTranslate="ebwebApp.sAInvoiceDetails.exportTaxPrice">
                                            </th>
                                            <th *ngIf="selectedRow && selectedRow.exported" scope="col"
                                                jhiTranslate="ebwebApp.sAInvoiceDetails.exportTaxTaxRate"></th>
                                            <th *ngIf="selectedRow && selectedRow.exported" scope="col"
                                                jhiTranslate="ebwebApp.sAInvoiceDetails.exportTaxAmount"></th>
                                            <th *ngIf="selectedRow && selectedRow.exported" scope="col"
                                                jhiTranslate="ebwebApp.sAInvoiceDetails.exportTaxAmountAccount"></th>
                                            <th *ngIf="selectedRow && selectedRow.exported" scope="col"
                                                jhiTranslate="ebwebApp.sAInvoiceDetails.exportTaxAccountCorresponding"></th>
                                            <th *ngIf="!hiddenVAT" scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.vatRate"></th>
                                            <th *ngIf="!hiddenVAT" scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.vatAmountOriginal"></th>
                                            <th *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode && !hiddenVAT"
                                                scope="col" jhiTranslate="ebwebApp.pPDiscountReturnDetails.vatAmount">
                                            </th>
                                            <th *ngIf="!hiddenVAT" scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.vatAccount"></th>
                                            <th *ngIf="!hiddenVAT" scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.deductionDebitAccount"></th>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.sAInvoiceDetails.repositoryAccount"
                                                *ngIf="selectedRow?.rsInwardOutwardID"></th>
                                            <th scope="col" jhiTranslate="ebwebApp.sAInvoiceDetails.costAccount"
                                                *ngIf="selectedRow?.rsInwardOutwardID"></th>
                                            <th scope="col" jhiTranslate="ebwebApp.sAInvoiceDetails.oWPrice"
                                                *ngIf="selectedRow?.rsInwardOutwardID"></th>
                                            <th scope="col" jhiTranslate="ebwebApp.sAInvoiceDetails.oWAmount"
                                                *ngIf="selectedRow?.rsInwardOutwardID"></th>
                                            <th *ngIf="hiddenVAT" scope="col" jhiTranslate="ebwebApp.sAInvoiceDetails.careerGroupID"></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let detail of sAInvoiceDetails;">
                                            <td title="{{getMaterialGoodsByID(detail.materialGoodsID)}}" class="ellip">{{getMaterialGoodsByID(detail.materialGoodsID)}}</td>
                                            <td title="{{detail.vATDescription}}" class="ellip">
                                                {{detail.vATDescription}}
                                            </td>
                                            <td title="{{detail.debitAccount}}" class="text-center">
                                                {{ detail.debitAccount }}
                                            </td>
                                            <td title="{{detail.creditAccount}}" class="text-center">
                                                {{ detail.creditAccount }}
                                            </td>
                                            <td
                                                title="{{getAccountingObjectbyID(detail.accountingObjectID)}}">{{getAccountingObjectbyID(detail.accountingObjectID)}}</td>
                                            <td *ngIf="selectedRow?.exported" title="{{detail.exportTaxPrice}}"
                                                class=" jsgrid-align-right">
                                                {{detail.exportTaxPrice | ebcurrency: 7: currentAccount}}
                                            </td>
                                            <td *ngIf="selectedRow?.exported" title="{{detail.exportTaxTaxRate}}" class=" jsgrid-align-right">
                                                {{detail.exportTaxTaxRate | ebcurrency: 5: currentAccount}}
                                            </td>
                                            <td *ngIf="selectedRow?.exported" title="{{detail.exportTaxAmount}}" class=" jsgrid-align-right">
                                                {{detail.exportTaxAmount | ebcurrency: 7: currentAccount}}
                                            </td>
                                            <td *ngIf="selectedRow?.exported" title="{{detail.exportTaxAmountAccount}}" class="text-center">
                                                {{ detail.exportTaxAmountAccount }}
                                            </td>
                                            <td *ngIf="selectedRow?.exported" title="{{detail.exportTaxAccountCorresponding}}" class="text-center">
                                                {{ detail.exportTaxAccountCorresponding }}
                                            </td>
                                            <td *ngIf="!hiddenVAT" title="{{getVATRate(detail.vATRate)}}" class="jsgrid-align-right">
                                                {{getVATRate(detail.vATRate)}}
                                            </td>
                                            <td *ngIf="!hiddenVAT" title="{{detail.vATAmountOriginal}}" class="jsgrid-align-right">
                                                {{detail.vATAmountOriginal | ebcurrency: (selectedRow?.currencyID !== currencyCode ? 8 : 7): currentAccount}}
                                            </td>
                                            <td class="jsgrid-align jsgrid-align-right" *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode && !hiddenVAT" title="{{detail.vATAmount}}">
                                                {{detail.vATAmount | ebcurrency: 7: currentAccount}}
                                            </td>
                                            <td *ngIf="!hiddenVAT" title="{{detail.vATAccount}}" class="text-center">
                                                {{ detail.vATAccount }}
                                            </td>
                                            <td *ngIf="!hiddenVAT" title="{{detail.deductionDebitAccount}}" class="text-center">
                                                {{ detail.deductionDebitAccount }}
                                            </td>
                                            <td title="{{detail.repositoryAccount}}" class="text-center"
                                                *ngIf="selectedRow?.rsInwardOutwardID">
                                                {{ detail.repositoryAccount }}
                                            </td>
                                            <td title="{{detail.costAccount}}" class="text-center"
                                                *ngIf="selectedRow?.rsInwardOutwardID">
                                                {{ detail.costAccount }}
                                            </td>
                                            <td class=" jsgrid-align-right" title="{{detail.oWPrice}}"
                                                *ngIf="selectedRow?.rsInwardOutwardID">
                                                <input type="number"
                                                       class="input-Cell text-right noSetDisable"
                                                       [allowNegative]="false"
                                                       ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                       [type]="1"
                                                       [(ngModel)]="detail.oWPrice" readonly
                                                >
                                            </td>
                                            <td class=" jsgrid-align-right" title="{{detail.oWAmount}}"
                                                *ngIf="selectedRow?.rsInwardOutwardID">
                                                <input type="number"
                                                       class="input-Cell text-right noSetDisable"
                                                       [allowNegative]="false"
                                                       ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                       [type]="7"
                                                       [(ngModel)]="detail.oWAmount" readonly
                                                >
                                            </td>
                                            <td *ngIf="hiddenVAT"
                                                title="{{getCareerGroupID(detail.careerGroupID)}}" class="ellip">{{getCareerGroupID(detail.careerGroupID)}}</td>
                                        </tr>
                                        <tr *ngFor="let l of newArr(10 - sAInvoiceDetails?.length)">
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td *ngIf="selectedRow?.exported"><input type="text" class="input-Cell"
                                                                                     readonly></td>
                                            <td *ngIf="selectedRow?.exported"><input type="text" class="input-Cell"
                                                                                     readonly></td>
                                            <td *ngIf="selectedRow?.exported"><input type="text" class="input-Cell"
                                                                                     readonly></td>
                                            <td *ngIf="selectedRow?.exported"><input type="text" class="input-Cell"
                                                                                     readonly></td>
                                            <td *ngIf="selectedRow?.exported"><input type="text" class="input-Cell"
                                                                                     readonly></td>
                                            <td *ngIf="!hiddenVAT"><input type="text" class="input-Cell" readonly></td>
                                            <td *ngIf="!hiddenVAT"><input type="text" class="input-Cell" readonly></td>
                                            <td *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode && !hiddenVAT"><input type="text"
                                                                                                        class="input-Cell"
                                                                                                        readonly></td>
                                            <td *ngIf="!hiddenVAT"><input type="text" class="input-Cell" readonly></td>
                                            <td *ngIf="!hiddenVAT"><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td *ngIf="selectedRow?.rsInwardOutwardID"><input type="text"
                                                                                              class="input-Cell"
                                                                                              readonly></td>
                                            <td *ngIf="selectedRow?.rsInwardOutwardID"><input type="text"
                                                                                              class="input-Cell"
                                                                                              readonly></td>
                                            <td *ngIf="selectedRow?.rsInwardOutwardID"><input type="text"
                                                                                              class="input-Cell"
                                                                                              readonly></td>
                                            <td *ngIf="selectedRow?.rsInwardOutwardID"><input type="text"
                                                                                              class="input-Cell"
                                                                                              readonly></td>
                                            <td *ngIf="hiddenVAT"><input type="text" class="input-Cell" readonly></td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <td class="cell-Table countRow">
                                            <input type="text" readonly
                                                   class="input-Cell"
                                                   value="{{'ebwebApp.purchaseOrder.countLine'| translate}} : {{sAInvoiceDetails.length}}">
                                        </td>
                                        <td class="cell-Table countRow text-right"></td>
                                        <td class="cell-Table countRow text-right"></td>
                                        <td class="cell-Table countRow text-right"></td>
                                        <td class="cell-Table countRow text-right"></td>
                                        <td class="cell-Table countRow text-right" *ngIf="selectedRow?.exported">
                                            <input type="text" class="input-Cell text-right eb-read-only"
                                                   [ngModel]="sum('exportTaxPrice')" readonly
                                                   ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                   [type]="7"></td>
                                        <td class="cell-Table countRow text-right" *ngIf="selectedRow?.exported"></td>
                                        <td class="cell-Table countRow text-right" *ngIf="selectedRow?.exported">
                                            <input type="text" class="input-Cell text-right eb-read-only"
                                                   [ngModel]="sum('exportTaxAmount')" readonly
                                                   ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                   [type]="7"></td>
                                        <td class="cell-Table countRow text-right" *ngIf="selectedRow?.exported"></td>
                                        <td class="cell-Table countRow text-right" *ngIf="selectedRow?.exported"></td>
                                        <td *ngIf="!hiddenVAT" class="cell-Table countRow text-right"></td>
                                        <td *ngIf="!hiddenVAT" class="cell-Table countRow text-right">
                                            <input type="text" class="input-Cell text-right eb-read-only"
                                                   [ngModel]="sum('vATAmountOriginal')" readonly
                                                   ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                   [type]="selectedRow?.currencyID !== currencyCode ? 8 : 7"></td>
                                        <td class="cell-Table countRow text-right"
                                            *ngIf="selectedRow && selectedRow?.currencyID !== currencyCode && !hiddenVAT">
                                            <input type="text" class="input-Cell text-right eb-read-only"
                                                   [ngModel]="sum('vATAmount')" readonly
                                                   ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                   [type]="7"></td>
                                        <td *ngIf="!hiddenVAT" class="cell-Table countRow text-right"></td>
                                        <td *ngIf="!hiddenVAT" class="cell-Table countRow text-right"></td>
                                        <td class="cell-Table countRow text-right"
                                            *ngIf="selectedRow?.rsInwardOutwardID"></td>
                                        <td class="cell-Table countRow text-right"
                                            *ngIf="selectedRow?.rsInwardOutwardID"></td>
                                        <td class="cell-Table countRow text-right"
                                            *ngIf="selectedRow?.rsInwardOutwardID">
                                            <input type="text" class="input-Cell text-right eb-read-only"
                                                   [ngModel]="sum('oWPrice')" readonly
                                                   ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                   [type]="1"></td>
                                        <td class="cell-Table countRow text-right"
                                            *ngIf="selectedRow?.rsInwardOutwardID">
                                            <input type="text" class="input-Cell text-right eb-read-only"
                                                   [ngModel]="sum('oWAmount')" readonly
                                                   ebCurrencyMask [systemOptions]="currentAccount?.systemOption"
                                                   [type]="7"></td>
                                        <td *ngIf="hiddenVAT" class="cell-Table countRow text-right"></td>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </ngb-tab>
                <ngb-tab>
                    <ng-template ngbTabTitle><span jhiTranslate="ebwebApp.common.statistical">Thống kê</span>
                    </ng-template>
                    <ng-template ngbTabContent>
                        <div class="tab-content">
                            <div class="frm-main frm-padding tab-pane fade in active show" id="home-report"
                                 style="background: #cbdcf0">
                                <div id="table-scroll-report" class="table-scroll">
                                    <table id="main-table-report" class="main-table">
                                        <thead>
                                        <tr>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.materialGoodsID">Mã
                                                hàng
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.pPDiscountReturnDetails.description">
                                                Tên
                                                hàng
                                            </th>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.expenseItemID">Khoản
                                                mục CP
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.pPDiscountReturnDetails.costSetID">
                                                Đối tượng
                                                THCP
                                            </th>
<!--                                            <th scope="col" jhiTranslate="ebwebApp.pPDiscountReturnDetails.contractID">-->
<!--                                                Hợp-->
<!--                                                đồng-->
<!--                                            </th>-->
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.budgetItemID">mục thu
                                                chi
                                            </th>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.departmentID">Phòng
                                                ban
                                            </th>
                                            <th scope="col"
                                                jhiTranslate="ebwebApp.pPDiscountReturnDetails.statisticsCodeID">Hợp
                                                đồng
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                        <tr *ngFor="let detail of sAInvoiceDetails; let i=index;">
                                            <td
                                                title="{{getMaterialGoodsByID(detail.materialGoodsID)}}" class="ellip">{{getMaterialGoodsByID(detail.materialGoodsID)}}</td>
                                            <td title="{{detail.description}}" class="ellip">
                                                {{ detail.description }}
                                            </td>
                                            <td
                                                title="{{getExpenseItembyID(detail.expenseItemID)}}" class="ellip">{{getExpenseItembyID(detail.expenseItemID)}}</td>
                                            <td
                                                title="{{getCostSetbyID(detail.costSetID)}}" class="ellip">{{getCostSetbyID(detail.costSetID)}}</td>
<!--                                            <td-->
<!--                                                title="{{getEMContractsbyID(detail.contractID)}}" class="ellip">{{getEMContractsbyID(detail.contractID)}}</td>-->
                                            <td
                                                title="{{getBudgetItembyID(detail.budgetItemID)}}" class="ellip">{{getBudgetItembyID(detail.budgetItemID)}}</td>
                                            <td
                                                title="{{getOrganizationUnitbyID(detail.departmentID)}}" class="ellip">{{getOrganizationUnitbyID(detail.departmentID)}}</td>
                                            <td
                                                title="{{getStatisticsCodebyID(detail.statisticsCodeID)}}" class="ellip">{{getStatisticsCodebyID(detail.statisticsCodeID)}}</td>
                                        </tr>
                                        <tr *ngFor="let l of newArr(10 - sAInvoiceDetails?.length)">
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
<!--                                            <td><input type="text" class="input-Cell" readonly></td>-->
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <td class="cell-Table countRow text-right">
                                                <input type="text" readonly
                                                       class="input-Cell"
                                                       value="{{'ebwebApp.purchaseOrder.countLine'| translate}} : {{sAInvoiceDetails.length}}">
                                            </td>

                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
<!--                                            <td class="cell-Table countRow text-right"></td>-->
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                            <td class="cell-Table countRow text-right"></td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </ngb-tab>
                <ngb-tab>
                    <ng-template ngbTabTitle><span jhiTranslate="ebwebApp.purchaseOrder.referenceDocuments">Chứng từ tham chiếu</span>
                    </ng-template>
                    <ng-template ngbTabContent>
                        <div class="tab-content">
                            <div class="frm-main frm-padding tab-pane fade in active show" id="home-ref"
                                 style="background: #cbdcf0">
                                <div id="table-scroll-ref" class="table-scroll">
                                    <table id="main-table-ref" class="main-table">
                                        <thead>
                                        <tr>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.vDate">Ngày chứng từ</th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.postedDate">Ngày hạch toán
                                            </th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.noFBook">Số chứng từ</th>
                                            <th scope="col" jhiTranslate="ebwebApp.saBill.reason" style="min-width: 600px!important;">Diễn giải</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let viewVoucher of refVoucher">
                                            <td class="jsgrid-cell jsgrid-align">{{viewVoucher.date}}</td>
                                            <td class="jsgrid-cell jsgrid-align">{{viewVoucher.postedDate}}</td>
                                            <td class="jsgrid-cell" (click)="utilService.viewRefVoucher(viewVoucher)" style="color:blue; text-decoration: underline;">{{viewVoucher.no}}</td>
                                            <td class="jsgrid-cell">{{viewVoucher.reason}}</td>
                                        </tr>
                                        <tr *ngFor="let l of newArr(10 - refVoucher?.length)">
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                            <td><input type="text" class="input-Cell" readonly></td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <td class="cell-Table countRow">
                                                <input type="text" readonly
                                                       class="input-Cell"
                                                       value="{{'ebwebApp.purchaseOrder.countLine'| translate}} : {{refVoucher.length}}">
                                            </td>
                                            <td class="countRow"></td>
                                            <td class="countRow"></td>
                                            <td class="countRow"></td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </ngb-tab>
            </ngb-tabset>
        </div>
    </div>
</div>
<ng-template #contentUnRecord let-modal>
    <div class="modal-body">
        <form>
            <div class="form-group">
                <label *ngIf="typeNotify === 1 || typeNotify === 2" jhiTranslate="ebwebApp.sAInvoice.unRecord.questionUnRecord2"></label><br>
                <label *ngIf="typeNotify === 1 || typeNotify === 3" jhiTranslate="ebwebApp.sAInvoice.unRecord.questionUnRecord1"></label>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-success" (click)="unrecordForm()" jhiTranslate="entity.action.ok">Đồng ý</button>
        <button type="button" class="btn btn-outline-dark" (click)="closes()" jhiTranslate="entity.action.close">Đóng</button>
    </div>
</ng-template>
<ng-template #popUpMultiDelete let-modal>
    <div class="modal-body">
        <form>
            <div class="form-group">
                <label *ngIf="typeMultiAction === 0" jhiTranslate="ebwebApp.mBDeposit.multiDeleteMessage"></label>
                <label *ngIf="typeMultiAction === 1" jhiTranslate="ebwebApp.mBDeposit.multiUnrecordMessage"></label>
                <label *ngIf="typeMultiAction === 2" jhiTranslate="ebwebApp.mBDeposit.multiRecordMessage"></label>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" (click)="continueMultiAction()"
                jhiTranslate="entity.action.ok">
        </button>
        <button type="button" class="btn btn-outline-dark" (click)="closes()"
                jhiTranslate="ebwebApp.mBDeposit.return">
        </button>
    </div>
</ng-template>
<ng-template #deleteItem let-modal>
    <div class="modal-body">
        <form>
            <div class="form-group">
                <label jhiTranslate="ebwebApp.sAInvoice.delete.question0" *ngIf="typeDelete === 0 || typeDelete === 2"></label>
                <label jhiTranslate="ebwebApp.sAInvoice.delete.question1" *ngIf="typeDelete === 1"></label>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" (click)="deleteForm()"
                jhiTranslate="entity.action.ok">
        </button>
        <button type="button" class="btn btn-outline-dark" (click)="closes()"
                jhiTranslate="ebwebApp.mBDeposit.return">
        </button>
    </div>
</ng-template>


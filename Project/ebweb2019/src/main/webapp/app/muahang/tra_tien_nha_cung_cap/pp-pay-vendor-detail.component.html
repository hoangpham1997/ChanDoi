<div class="row" (click)="disableContextMenu()">
    <div class="col-md-12">
        <div class="menu-tool-bar he">
            <div class="ptitle">
                <span>TRẢ TIỀN NHÀ CUNG CẤP</span>
            </div>
            <div class="gr-toolbar">
                <a (click)="submit(question)"><i class="mdi mdi-briefcase-download"></i><span
                    jhiTranslate="ebwebApp.pPPayVendor.home.submit"></span></a>
                <a [routerLink]="['/pp-pay-vendor']"><i
                    class="mdi mdi-window-close"></i><span
                    jhiTranslate="ebwebApp.pPPayVendor.home.cancel"></span></a>
            </div>
        </div>
        <div class="tool-navbar">
            <div class="row">
                <div class="col-lg-6">
                    <div class="row">
                        <label class="form-check-label" style="padding: 5px 0px 0px 16px" jhiTranslate="ebwebApp.sAInvoice.typeSell">Phương thức thanh
                            toán</label>
                        <div style="padding: 0px 0px 5px 10px">
                            <select style="height: 35px;width:140px" name="paymentMethod"
                                    id="field_paymentMethod"
                                    class="form-control form-control-sm"
                                    [(ngModel)]="paymentMethod"
                                    (ngModelChange)="changePaymentMethod()">
                                <option value="0" selected>Tiền mặt</option>
                                <option value="1">Uỷ nhiệm chi</option>
                                <option value="2">Séc chuyển khoản</option>
                                <option value="3">Séc tiền mặt</option>
                                <option value="4">Thẻ tín dụng</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="row" style="justify-content: flex-end;">
                        <label class="col-sm-4 form-check-label text-right" style="padding: 5px 0px 0px 0px" jhiTranslate="ebwebApp.pPPayVendor.totalAmount">Tổng tiền trả</label>
                        <div class="col-sm-4" style="padding: 0px 0px 5px 5px">
                            <input type="text" class="form-control form-control-sm"
                                   ebCurrencyMask
                                   [systemOptions]="account?.systemOption"
                                   [type]="currencyID !== accountCurrencyID ? 8 : 7" [disabled]="true"
                                   [(ngModel)]="totalAmountOriginal"/>
                        </div>
                        <div class="col-sm-4" style="padding-left: 0px">
                            <input type="text" class="form-control form-control-sm"
                                   ebCurrencyMask
                                   [systemOptions]="account?.systemOption"
                                   [type]="7" [disabled]="true"
                                   [(ngModel)]="totalAmount"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row no-gutters">
            <div class="col-lg-9 pd-r-0 form-main-new">
                <form *ngIf="paymentMethod === '0'">
                    <h3 jhiTranslate="ebwebApp.common.generalInformation">Thông tin chung</h3>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mCPayment.accountingObjectID"
                                       for="field_accountingObject">Accounting Object</label>
                                <div class="col-sm-3 pd-l-0">
                                    <combo-box style="" id="field_accountingObject"
                                               name="comboboxaccountingObject"
                                               [dataList]="accountingObjects"
                                               [listColumns]="utilsService.listColumnsAccountingObjects"
                                               displayMember="accountingObjectCode"
                                               valueName="id"
                                               [headerColumns]="utilsService.listHeaderColumnsAccountingObject"
                                               [isObject]="true"
                                               [isOutTable]="true"
                                               [(ngModel)]="accountingObject"
                                               (ngModelChange)="selectAccountingObject()"
                                               [tabindex]="1"
                                    ></combo-box>
                                </div>
                                <div class="col-sm-7 pd-l-0 last-div-1-1">
                                    <input type="text" class="form-control form-control-sm"
                                           name="accountingObjectName"
                                           [(ngModel)]="accountingObjectName" maxlength="512"
                                           [tabindex]="2"/>
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mCReceipt.accountingObjectAddress"
                                       for="field_accountingObjectAddress4">Accounting Object Address</label>
                                <div class="col-sm-10 pd-l-0 last-div-1-0">
                                    <input type="text" class="form-control form-control-sm"
                                           name="accountingObjectAddress4"
                                           id="field_accountingObjectAddress4"
                                           [(ngModel)]="accountingObjectAddress"
                                           maxlength="512"
                                           [tabindex]="3">
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mCReceipt.taxCode">Mã số thuế</label>
                                <div class="col-sm-3 pd-l-0">
                                    <input type="text" class="form-control form-control-sm" name="taxCode4"
                                           [(ngModel)]="taxCode"
                                           [tabindex]="4">
                                </div>
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mCPayment.receiver"
                                       for="field_receiver">Payers</label>
                                <div class="col-sm-5 pd-l-0 last-div-2-1">
                                    <input type="text" class="form-control form-control-sm" name="receivers4"
                                           id="field_receiver"
                                           [(ngModel)]="receiver" maxlength="512"
                                           [tabindex]="5"/>
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mCReceipt.reason"
                                       for="field_reason">Diễn giải</label>
                                <div class="col-sm-3 pd-l-0 pd-r-10">
                                    <combo-box style="" id="reason_cb"
                                               name="comboboxreason"
                                               [dataList]="autoPrinciples"
                                               [listColumns]="utilsService.listColumnsAutoPrinciple"
                                               displayMember="''"
                                               valueName="autoPrincipleName"
                                               [headerColumns]="utilsService.listHeaderColumnsAutoPrinciple"
                                               [isObject]="true"
                                               [isOutTable]="true"
                                               [(ngModel)]="autoPrinciple"
                                               (ngModelChange)="selectAutoPrinciple()"
                                               [tabindex]="6"
                                    ></combo-box>
                                </div>
                                <div class="col-sm-7 pd-l-0 last-div-1-1">
                                    <input type="text" class="form-control form-control-sm" name="reason"
                                           id="field_reason"
                                           [(ngModel)]="reason"
                                           maxlength="512"
                                           [tabindex]="7"/>
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.sAInvoice.employeeID" for="field_employeeID">Nhân
                                    viên thực hiện</label>
                                <div class="col-sm-3 pd-l-0">
                                    <combo-box style="" id="field_employeeID"
                                               name="comboboxEmployees"
                                               [dataList]="employees"
                                               [listColumns]="utilsService.listColumnsEmployees"
                                               displayMember="accountingObjectCode"
                                               valueName="id"
                                               [headerColumns]="utilsService.listHeaderColumnsEmployees"
                                               [isObject]="false"
                                               [isOutTable]="true"
                                               [(ngModel)]="employeeID"
                                               [nameCategory]="utilsService.NHAN_VIEN"
                                               [showIconPlus]="true"
                                               (click)="saveParent()"
                                               [tabindex]="8"
                                    ></combo-box>
                                </div>
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mCReceipt.numberAttach" for="number_attach4">Kèm
                                    theo</label>
                                <div class="col-sm-5 pd-l-0 last-div-2-1">
                                    <input type="text" class="form-control form-control-sm"
                                           id="number_attach4"
                                           [(ngModel)]="numberAttach"
                                           name="numberAttach"
                                           [tabindex]="9"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <form *ngIf="paymentMethod === '1' || paymentMethod === '2' || paymentMethod === '3'">
                    <h3 jhiTranslate="ebwebApp.mBTellerPaper.generalinfo">General Information</h3>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label" for="field_bankaccountdetail1"
                                       jhiTranslate="ebwebApp.mBTellerPaper.bankAccountDetails"
                                >BankAccountDetails</label>
                                <div class="col-sm-3 pd-l-0 pd-r-10">
                                    <combo-box style="" id="field_bankaccountdetail1"
                                               name="bankaccountdetail1"
                                               [isOutTable]="true"
                                               [dataList]="bankAccountDetails"
                                               [headerColumns]="utilsService.listHeaderColumnsBankAccountDetails"
                                               [listColumns]="utilsService.listColumnsBankAccountDetails"
                                               displayMember="bankAccount"
                                               valueName="id"
                                               [isObject]="true"
                                               [(ngModel)]="bankAccountDetail"
                                               (ngModelChange)="selectedChangedBankAccountDetails()"
                                               [nameCategory]="utilsService.TAI_KHOAN_NGAN_HANG"
                                               [showIconPlus]="true"
                                               (click)="saveParent()"
                                               [tabindex]="1"
                                    ></combo-box>
                                </div>
                                <div class="col-sm-7 pd-l-0 last-div-1-1">
                                    <input type="text" class="form-control form-control-sm"
                                           name="bankName1"
                                           [(ngModel)]="bankName"
                                           maxlength="512"
                                           [tabindex]="2"/>
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label" for="field_autoPrinciple1"
                                       jhiTranslate="ebwebApp.mBTellerPaper.reason"
                                >Reason</label>
                                <div class="col-sm-3 pd-l-0">
                                    <combo-box style="" id="field_autoPrinciple1"
                                               name="autoPrinciple1"
                                               [isOutTable]="true"
                                               [dataList]="autoPrinciples"
                                               [headerColumns]="utilsService.listHeaderColumnsAutoPrinciple"
                                               [listColumns]="utilsService.listColumnsAutoPrinciple"
                                               displayMember="autoPrincipleName"
                                               valueName="id"
                                               [isObject]="true"
                                               [(ngModel)]="autoPrinciple"
                                               (ngModelChange)="selectAutoPrinciple()"
                                               [tabindex]="3"
                                    ></combo-box>
                                </div>
                                <div class="col-sm-7 pd-l-0 last-div-1-1">
                                    <input type="text" class="form-control form-control-sm"
                                           name="reason1"
                                           id="field_reason1"
                                           [(ngModel)]="reason" maxlength="512"
                                           [tabindex]="4"/>
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label" for="field_accountingObject1"
                                       jhiTranslate="{{paymentMethod === '3' ? 'ebwebApp.mBTellerPaper.paymentTo' : 'ebwebApp.mBTellerPaper.accountingObject'}}"
                                >AccountingObject</label>
                                <div class="col-sm-3 pd-l-0">
                                    <combo-box style="" id="field_accountingObject1"
                                               name="accountingObject1"
                                               [isOutTable]="true"
                                               [dataList]="accountingObjects"
                                               [listColumns]="utilsService.listColumnsAccountingObjects"
                                               displayMember="accountingObjectCode"
                                               valueName="id"
                                               [headerColumns]="utilsService.listHeaderColumnsAccountingObject"
                                               [isObject]="true"
                                               [(ngModel)]="accountingObject"
                                               (ngModelChange)="selectAccountingObject()"
                                               [tabindex]="5"
                                    ></combo-box>
                                </div>
                                <div class="col-sm-7 pd-l-0 last-div-1-1">
                                    <input type="text" class="form-control form-control-sm"
                                           name="accountingObjectName1"
                                           [(ngModel)]="accountingObjectName"
                                           [tabindex]="6"
                                           maxlength="512"/>
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="{{paymentMethod === '3' ? 'ebwebApp.mBTellerPaper.receiver' : 'ebwebApp.mBTellerPaper.accountingobjectaddress'}}"
                                >Accountingobjectaddress</label>
                                <div class="col-sm-10 pd-l-0 last-div-1-0">
                                    <input type="text" class="form-control form-control-sm"
                                           *ngIf="paymentMethod !== '3'"
                                           name="accountingObjectAddress"
                                           [(ngModel)]="accountingObjectAddress"
                                           [tabindex]="7"
                                           maxlength="512">
                                    <input type="text" class="form-control form-control-sm"
                                           *ngIf="paymentMethod === '3'"
                                           name="receiver"
                                           [(ngModel)]="receiver"
                                           [tabindex]="7"
                                           maxlength="512">
                                </div>
                            </div>
                            <div class="form-group row no-gutters" *ngIf="paymentMethod !== '3'">
                                <label class="col-sm-2 col-form-label"
                                       for="field_accountingobjectbankaccount1"
                                       jhiTranslate="ebwebApp.mBTellerPaper.accountingObjectBankAccount"
                                >AccountingObjectBankAccount</label>
                                <div class="col-sm-3 pd-l-0 pd-r-10" style="padding-right: 0px;">
                                    <combo-box style="" id="field_accountingobjectbankaccount1"
                                               name="accountingObjectBankAccount1"
                                               [isOutTable]="true"
                                               [dataList]="accountingObjectBankAccounts"
                                               [listColumns]="utilsService.listColumnsAccountingObjectBankAccount"
                                               displayMember="bankAccount"
                                               valueName="id"
                                               [headerColumns]="utilsService.listHeaderColumnsAccountingObjectBankAccount"
                                               [isObject]="true"
                                               [(ngModel)]="accountingObjectBankAccount"
                                               (ngModelChange)="selectedChangedAccountingObjectBankAccount()"
                                               (click)="saveParent()"
                                               [tabindex]="8"
                                    ></combo-box>
                                </div>
                                <div class="col-sm-3 pd-l-0">
                                    <input type="text" class="form-control form-control-sm"
                                           name="bankname1"
                                           [(ngModel)]="accountingObjectBankName"
                                           [tabindex]="9"
                                           maxlength="512"/>
                                </div>
                                <label class="col-sm-2 col-form-label" for="field_isemployee1" style="max-width: 100px!important;"
                                       jhiTranslate="ebwebApp.mBCreditCard.employeeName">Employee</label>
                                <div class="col-sm-2 pd-l-0 pd-r-10 last-div-2-2" style="padding-left: 0px;">
                                    <combo-box style="" id="field_isemployee1"
                                               name="isemployee1"
                                               [isOutTable]="true"
                                               [dataList]="employees"
                                               [listColumns]="utilsService.listColumnsEmployees"
                                               displayMember="accountingObjectCode"
                                               valueName="id"
                                               [headerColumns]="utilsService.listHeaderColumnsEmployees"
                                               [isObject]="false"
                                               [(ngModel)]="employeeID"
                                               [nameCategory]="utilsService.NHAN_VIEN"
                                               [showIconPlus]="true"
                                               (click)="saveParent()"
                                               [tabindex]="10"
                                    ></combo-box>
                                </div>
                            </div>
                            <div class="form-group row no-gutters" *ngIf="paymentMethod === '3'">
                                <label class="col-sm-2 col-form-label" for="field_identificationno"
                                       jhiTranslate="ebwebApp.mBTellerPaper.identificationno"
                                >IdentificationNo</label>
                                <div class="col-sm-3 pd-l-0 pd-r-10">
                                    <input type="text" class="form-control form-control-sm"
                                           name="identificationno"
                                           id="field_identificationno"
                                           [(ngModel)]="mBTellerPaper.identificationNo"
                                           [tabindex]="8"
                                           maxlength="30"/>
                                </div>
                                <label class="col-sm-2 col-form-label" for="field_issuedate"
                                       jhiTranslate="ebwebApp.mBTellerPaper.issuedate"
                                       style="max-width: 100px"
                                >Issue Date</label>
                                <div class="col-sm-3">
                                    <div class="input-group">
                                        <eb-date-picker id="field_issuedate"
                                                        [(ngModel)]="mBTellerPaper.issueDate" name="issueDate"
                                                        [isInTable]="true" [tabindex]="9"></eb-date-picker>
                                    </div>
                                </div>
                                <label class="col-sm-2 col-form-label" for="field_issueby"
                                       jhiTranslate="ebwebApp.mBTellerPaper.issueby"
                                       style="max-width: 100px"
                                >Issue by</label>
                                <div class="col-sm-4 pd-l-0 pd-r-10" style="max-width: calc(50% - 280px) !important;">
                                    <input type="text" class="form-control form-control-sm"
                                           name="issueby"
                                           id="field_issueby"
                                           [(ngModel)]="mBTellerPaper.issueBy"
                                           [tabindex]="10"
                                           maxlength="512"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <form *ngIf="paymentMethod === '4'">
                    <h3 jhiTranslate="ebwebApp.mBCreditCard.generalInformation"></h3>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mBCreditCard.accountPay"></label>
                                <div class="col-sm-3 pd-l-0 pd-r-10">
                                    <combo-box style="" class="padding" id="field_creditCard"
                                               name="comboboxcreditCard"
                                               [dataList]="creditcards"
                                               [isOutTable]="true"
                                               [listColumns]="utilsService.listColumnsCreditCard"
                                               displayMember="creditCardNumber"
                                               valueName="id"
                                               [headerColumns]="utilsService.listHeaderColumnsCreditCard"
                                               [isObject]="true"
                                               [(ngModel)]="creditCard"
                                               (ngModelChange)="selectChangeCreditCardNumber()"
                                               [nameCategory]="utilsService.THE_TIN_DUNG"
                                               [showIconPlus]="true"
                                               (click)="saveParent()"
                                               [tabindex]="1">
                                    </combo-box>
                                    <!--                                        [isRequired]="true"-->
                                    <!--                                        [hideRequiredWhenValueTrue]="true"-->
                                </div>
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mBCreditCard.typeCard"></label>
                                <div class="col-sm-2 pd-l-0">
                                    <input type="text" class="form-control form-control-sm padding"
                                           name="creditCardType" id="field_creditCardType"
                                           [(ngModel)]="creditCardType" maxlength="512" readonly
                                           [tabindex]="2">
                                </div>
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mBCreditCard.ownerCard"></label>
                                <div class="col-sm-3 pd-l-0 last-div-3-2">
                                    <input type="text" class="form-control form-control-sm padding"
                                           name="creditCardObject" id="field_creditCardObject"
                                           [(ngModel)]="ownerCard" maxlength="512" readonly
                                           [tabindex]="3">
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       for="field_autoPrinciple"
                                       jhiTranslate="ebwebApp.mBCreditCard.autoPrinciple"></label>
                                <div class="col-sm-3 pd-l-0">
                                    <combo-box style="" class="padding" id="field_autoPrinciple"
                                               name="autoPrinciple"
                                               [dataList]="autoPrinciple"
                                               [isOutTable]="true"
                                               [listColumns]="utilsService.listColumnsAutoPrinciple"
                                               displayMember="autoPrincipleName"
                                               valueName="autoPrincipleName"
                                               [headerColumns]="utilsService.listHeaderColumnsAutoPrinciple"
                                               [isObject]="true"
                                               [(ngModel)]="autoPrinciple"
                                               (ngModelChange)="selectAutoPrinciple()"
                                               [tabindex]="4">
                                    </combo-box>
                                </div>
                                <div class="col-sm-7 pd-l-0 last-div-1-1">
                                    <input type="text" class="form-control form-control-sm" name="reason"
                                           id="reason_save"
                                           [(ngModel)]="reason" maxlength="512"
                                           [tabindex]="5">
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       for="field_accountingObjectAddress"
                                       jhiTranslate="ebwebApp.mBCreditCard.accountObjectReceive"></label>
                                <div class="col-sm-3 pd-l-0 pd-r-10">
                                    <combo-box style="" id="field_accountingObjectID"
                                               name="comboboxaccountingObjectID"
                                               [dataList]="accountingObjects"
                                               [isOutTable]="true"
                                               [listColumns]="utilsService.listColumnsAccountingObjects"
                                               displayMember="accountingObjectCode"
                                               valueName="id"
                                               [headerColumns]="utilsService.listHeaderColumnsAccountingObject"
                                               [isObject]="true"
                                               [(ngModel)]="accountingObject"
                                               (ngModelChange)="selectAccountingObject()"
                                               [tabindex]="6">
                                    </combo-box>
                                </div>
                                <div class="col-sm-7 pd-l-0 last-div-1-1">
                                    <input type="text" class="form-control form-control-sm"
                                           name="accountingObjectName"
                                           id="field_accounntingObjectName"
                                           [(ngModel)]="accountingObjectName" maxlength="512"
                                           [tabindex]="7">
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mBCreditCard.accountingObjectAddress"
                                       for="field_accountingObjectAddress"></label>
                                <div class="col-sm-10 pd-l-0 last-div-1-0">
                                    <input type="text" class="form-control form-control-sm"
                                           name="accountingObjectAddress"
                                           id="field_accountingObjectAddress"
                                           [(ngModel)]="accountingObjectAddress" maxlength="512"
                                           [tabindex]="8">
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.mBCreditCard.accountReceive"></label>
                                <div class="col-sm-3 pd-l-0 pd-r-10">
                                    <combo-box style="" id="field_accountingObjectBankAccount"
                                               name="accountingObjectBankAccount"
                                               [dataList]="accountingObjectBankAccounts"
                                               [isOutTable]="true"
                                               [listColumns]="utilsService.listColumnsAccountingObjectBankAccount"
                                               displayMember="bankAccount"
                                               valueName="id"
                                               [headerColumns]="utilsService.listHeaderColumnsAccountingObjectBankAccount"
                                               [isObject]="true"
                                               [(ngModel)]="accountingObjectBankAccount"
                                               (ngModelChange)="selectedChangedAccountingObjectBankAccount()"
                                               (click)="saveParent()"
                                               [tabindex]="9">
                                    </combo-box>
                                </div>
                                <div class="col-sm-3 pd-l-0">
                                    <input type="text" class="form-control form-control-sm"
                                           name="accountingObjectBankName" id="field_accountingObjectBankName"
                                           [(ngModel)]="accountingObjectBankName" maxlength="512"
                                           [tabindex]="10">
                                </div>
                                <label class="col-sm-2 my-col-form-label-TTD" style="max-width: 100px"
                                       jhiTranslate="ebwebApp.mBCreditCard.employeeName"></label>
                                <div class="col-sm-2 pd-l-0 last-div-2-2">
                                    <combo-box style="padding: 0px"
                                               name="comboboxEmployees"
                                               [dataList]="employees"
                                               [isOutTable]="true"
                                               [listColumns]="utilsService.listColumnsEmployees"
                                               displayMember="accountingObjectCode"
                                               valueName="id"
                                               [headerColumns]="utilsService.listHeaderColumnsEmployees"
                                               [isObject]="false"
                                               [(ngModel)]="employeeID"
                                               [nameCategory]="utilsService.NHAN_VIEN"
                                               [showIconPlus]="true"
                                               (click)="saveParent()"
                                               [tabindex]="11"
                                    ></combo-box>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-lg-4 pd-only-l-10 form-main-new">
                <form>
                    <h3 jhiTranslate="ebwebApp.common.license">Chứng từ</h3>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group row no-gutters">
                                <label class="col-sm-4 col-form-label">Số chứng từ</label>
                                <div class="col-sm-8 pd-l-0 last-div-1-0">
                                    <input type="text" [(ngModel)]="no"
                                           class="form-control form-control-sm" name="No"
                                           [tabindex]="12">
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-4 col-form-label"
                                       jhiTranslate="ebwebApp.mCPayment.date"
                                       for="field_date">Ngày chứng từ</label>
                                <div class="col-sm-8 last-div-1-0">
                                    <eb-date-picker style="display: block" id="field_date" [(ngModel)]="date" name="date"
                                                    (ngModelChange)="checkPostedDateGreaterDate()"
                                                    required
                                                    [isInTable]="false" [tabindex]="13"></eb-date-picker>
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-4 col-form-label"
                                       jhiTranslate="ebwebApp.mCPayment.postedDate"
                                       for="field_postedDate">Ngày hạch toán</label>
                                <div class="col-sm-8 last-div-1-0">
                                    <eb-date-picker style="display: block" id="field_postedDate" [(ngModel)]="postedDate" name="postedDate"
                                                    required
                                                    [isInTable]="false" [tabindex]="14"></eb-date-picker>
                                </div>
                            </div>
                            <div class="form-group row no-gutters">
                                <label class="col-sm-4 col-form-label">Loại tiền</label>
                                <div class="col-sm-3 pd-l-0 form-group">
                                    <combo-box style="" id="field_currencyID"
                                               name="comboboxcurrencyID"
                                               [dataList]="currencys"
                                               [listColumns]="utilsService.listColumnsCurrency"
                                               displayMember="currencyCode"
                                               valueName="currencyCode"
                                               [headerColumns]="utilsService.listHeaderColumnsCurrency"
                                               [isObject]="false"
                                               [isOutTable]="true"
                                               [(ngModel)]="currencyID"
                                               (ngModelChange)="selectCurrentcy()"
                                               [tabindex]="15"
                                    ></combo-box>
                                </div>
                                <label class="col-sm-2 col-form-label"
                                       jhiTranslate="ebwebApp.sAInvoice.exchangeRate"
                                       style="width: 53px; max-width: 53px !important; min-width: 43px !important;">Tỷ giá</label>
                                <div class="col-sm-3 pd-l-0 last-div-2-1" style="min-width: 43px !important;max-width: calc(75% - 153px) !important;">
                                    <input name="exchangeRate" type="text"
                                           class="form-control form-control-sm"
                                           [(ngModel)]="exchangeRate"
                                           ebCurrencyMask
                                           [systemOptions]="account?.systemOption" [type]="5"
                                           (ngModelChange)="changeExchangeRate()"
                                           [disabled]="currencyID === accountCurrencyID" [tabindex]="16">
                                </div>
                            </div>
                            <div class="form-group row no-gutters" *ngIf="showVaoSo">
                                <label class="col-sm-4 col-form-label"
                                       jhiTranslate="ebwebApp.mCPayment.typeLedger">Vào sổ</label>
                                <div class="col-sm-8 pd-l-0 last-div-1-0">
                                    <select class="form-control" name="typeLedger" id="field_typeLedger"
                                            [(ngModel)]="typeLedger" [tabindex]="17">
                                        <option *ngIf="isSoTaiChinh" value="0"
                                                jhiTranslate="ebwebApp.mBDeposit.financialBook">Sổ
                                            tài chính
                                        </option>
                                        <option *ngIf="!isSoTaiChinh" value="1"
                                                jhiTranslate="ebwebApp.mBDeposit.managementBook">
                                            Sổ quản trị
                                        </option>
                                        <option value="2" jhiTranslate="ebwebApp.mBDeposit.bothBooks">Cả 2
                                            sổ
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <ngb-tabset class="tool-navbar">
            <ngb-tab>
                <ng-template ngbTabTitle>Chứng từ</ng-template>
                <ng-template ngbTabContent>
                    <div class="tab-content">
                        <div class="frm-main frm-padding tab-pane fade in active show" id="home-detail"
                             style="background: #cbdcf0">
                            <div id="table-scroll-detail" class="table-scroll">
                                <table id="main-table-detail" class="main-table"
                                       (keydown.arrowDown)="moveArrowDown($event,16)"
                                       (keydown.arrowUp)="moveArrowUp($event,16)">
                                    <thead>
                                    <tr>
                                        <th style="width: 50px" (click)="checkAllFunction()"><input type="checkbox"
                                                                                                    [(ngModel)]="checkAll"/>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.date"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.no"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.dueDate"></th>
<!--                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.paymentClause"></th>-->
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.employeeName"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.account"></th>
<!--                                        <th scope="col" *ngIf="currencyID!=='VND'"-->
<!--                                            jhiTranslate="ebwebApp.pPPayVendorDetail.refVoucherExchangeRate"></th>-->
                                        <th scope="col"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.totalDebitOriginal"></th>
                                        <th scope="col" *ngIf="currencyID!=='VND'"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.totalDebit"></th>
<!--                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.lastExchangeRate"></th>-->
                                        <th scope="col"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.debitAmountOriginal"></th>
                                        <th scope="col" *ngIf="currencyID!=='VND'"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.debitAmount"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.amountOriginal"></th>
                                        <th scope="col" *ngIf="currencyID!=='VND'"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.amount"></th>
<!--                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.differAmount"></th>-->
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.discountRate"></th>
                                        <th scope="col"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.discountAmountOriginal"></th>
                                        <th scope="col" *ngIf="currencyID!=='VND'"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.discountAmount"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.discountAccount"></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let pPPayVendorBill of pPPayVendorBills; let i = index;">
                                        <td class="cell-Table jsgrid-align-center"
                                            style="width: 150px"><input type="checkbox"
                                                                        [(ngModel)]="pPPayVendorBill.check"
                                                                        (ngModelChange)="genAccountings(pPPayVendorBill)"
                                                                        [tabindex]="17 + (16 * i) + 1">
                                        </td>
                                        <td class="jsgrid-cell jsgrid-align-center"
                                            style="width: 150px">{{pPPayVendorBill.date}}</td>
                                        <td class="jsgrid-cell"
                                            style="width: 150px" *ngIf="pPPayVendorBill.typeID === TYPE_OPN"><a
                                            >{{typeLedger === '1' ? pPPayVendorBill.noMBook : pPPayVendorBill.noFBook}}</a></td>
                                        <td class="jsgrid-cell"
                                            style="width: 150px" *ngIf="pPPayVendorBill.typeID !== TYPE_OPN"><a
                                            (click)="viewVoucher(pPPayVendorBill)" style="color:blue; text-decoration: underline;">{{typeLedger === '1' ? pPPayVendorBill.noMBook : pPPayVendorBill.noFBook}}</a></td>
                                        <td class="jsgrid-cell jsgrid-align-center"
                                            style="width: 150px">{{pPPayVendorBill.dueDate}}</td>
<!--                                        <td class="jsgrid-cell"-->
<!--                                            style="width: 150px">{{pPPayVendorBill.paymentClause}}</td>-->
                                        <td class="jsgrid-cell"
                                            style="width: 150px">{{pPPayVendorBill.employeeName}}</td>
                                        <td class="jsgrid-cell jsgrid-align-center"
                                            style="width: 150px">{{pPPayVendorBill.account}}</td>
<!--                                        <td class="jsgrid-cell jsgrid-align-right"-->
<!--                                            style="width: 150px"-->
<!--                                            *ngIf="currencyID!=='VND'">{{pPPayVendorBill.refVoucherExchangeRate}}-->
<!--                                        </td>-->

                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="number"
                                                                        class="input-Cell jsgrid-align-right"
                                                                        disabled
                                                                        ebCurrencyMask
                                                                        [systemOptions]="account?.systemOption"
                                                                        [type]="currencyID !== accountCurrencyID ? 8 : 7"
                                                                        [(ngModel)]="pPPayVendorBill.totalDebitOriginal"
                                                                        [tabindex]="17 + (16 * i) + 2"/>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"
                                            *ngIf="currencyID !== accountCurrencyID"><input type="number"
                                                                              class="input-Cell jsgrid-align-right"
                                                                                            disabled
                                                                              ebCurrencyMask
                                                                              [systemOptions]="account?.systemOption"
                                                                              [type]="7"
                                                                              [(ngModel)]="pPPayVendorBill.totalDebit"
                                                                                            [tabindex]="17 + (16 * i) + 3"/>
                                        </td>
<!--                                        <td class="jsgrid-cell jsgrid-align-right"-->
<!--                                            style="width: 150px"><input type="number"-->
<!--                                                                        class="input-Cell jsgrid-align-right"-->
<!--                                                                        [readOnly]="true"-->
<!--                                                                        ebCurrencyMask-->
<!--                                                                        [systemOptions]="account?.systemOption"-->
<!--                                                                        [type]="DDSo_NgoaiTe"-->
<!--                                                                        [(ngModel)]="pPPayVendorBill.lastExchangeRate"/>-->
<!--                                        </td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input
                                            type="number"
                                            class="input-Cell jsgrid-align-right"
                                            disabled
                                            ebCurrencyMask
                                            [systemOptions]="account?.systemOption"
                                            [type]="currencyID !== accountCurrencyID ? 8 : 7"
                                            [(ngModel)]="pPPayVendorBill.debitAmountOriginal"
                                            [tabindex]="17 + (16 * i) + 4"/></td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"
                                            *ngIf="currencyID !== accountCurrencyID"><input
                                            type="number"
                                            class="input-Cell jsgrid-align-right"
                                            disabled
                                            ebCurrencyMask
                                            [systemOptions]="account?.systemOption"
                                            [type]="7"
                                            [(ngModel)]="pPPayVendorBill.debitAmount"
                                            [tabindex]="17 + (16 * i) + 5"/>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                            <input type="number"
                                                   class="input-Cell jsgrid-align-right"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="currencyID !== accountCurrencyID ? 8 : 7"
                                                   [(ngModel)]="pPPayVendorBill.amountOriginal"
                                                   (ngModelChange)="calculateAmont(pPPayVendorBill)"
                                                   [tabindex]="17 + (16 * i) + 6"/>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID">
                                            <input type="number"
                                                   class="input-Cell jsgrid-align-right"
                                                   disabled
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="7"
                                                   [(ngModel)]="pPPayVendorBill.amount"
                                                   [tabindex]="17 + (16 * i) + 7"/>
                                        </td>
<!--                                        <td class="jsgrid-cell jsgrid-align-right"-->
<!--                                            style="width: 150px"><input type="number"-->
<!--                                                                        class="input-Cell jsgrid-align-right"-->
<!--                                                                        [readOnly]="true"-->
<!--                                                                        ebCurrencyMask-->
<!--                                                                        [systemOptions]="account?.systemOption"-->
<!--                                                                        [type]="DDSo_NgoaiTe"-->
<!--                                                                        [(ngModel)]="pPPayVendorBill.differAmount"/>-->
<!--                                        </td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                            <input type="number"
                                                   class="input-Cell jsgrid-align-right"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="5"
                                                   [(ngModel)]="pPPayVendorBill.discountRate"
                                                   (ngModelChange)="calculateDiscount(pPPayVendorBill)"
                                                   max="100" [tabindex]="17 + (16 * i) + 8"/>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="number"
                                                                        class="input-Cell jsgrid-align-right"
                                                                        ebCurrencyMask
                                                                        [systemOptions]="account?.systemOption"
                                                                        [type]="currencyID !== accountCurrencyID ? 8 : 7"
                                                                        [(ngModel)]="pPPayVendorBill.discountAmountOriginal"
                                                                        (ngModelChange)="changeDiscountAmount(pPPayVendorBill)"
                                                                        [tabindex]="17 + (16 * i) + 9"/>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID">
                                            <input type="number"
                                                   class="input-Cell jsgrid-align-right"
                                                   disabled
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="7"
                                                   [(ngModel)]="pPPayVendorBill.discountAmount"
                                                   [tabindex]="17 + (16 * i) + 10"/>
                                        </td>
                                        <td class="cell-Table jsgrid-align-center"
                                            style="width: 150px">
                                            <combo-box id="discountAcount"
                                                       name="discountAcount"
                                                       [dataList]="discountAccountList"
                                                       [listColumns]="utilsService.listColumnsAccountList"
                                                       displayMember="accountNumber"
                                                       valueName="accountNumber"
                                                       [headerColumns]="utilsService.listHeaderColumnsAccountList"
                                                       [isObject]="false"
                                                       [(ngModel)]="pPPayVendorBill.discountAccount"
                                                       (ngModelChange)="genAccountingByDiscounts()"
                                                       [tabindex]="17 + (16 * i) + 11">
                                            </combo-box>
                                        </td>
                                    </tr>
                                    <tr *ngFor="let l of newArr(9 - pPPayVendorBills?.length)">
                                        <td class="cell-Table jsgrid-align-center"
                                            style="width: 150px"><input type="text" class="input-Cell" disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-center"
                                            style="width: 150px"></td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"></td>
<!--                                        <td class="cell-Table jsgrid-align-right"-->
<!--                                            style="width: 150px"-->
<!--                                            *ngIf="currencyID !== accountCurrencyID">-->
<!--                                        </td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"></td>
<!--                                        <td class="cell-Table jsgrid-align-right"-->
<!--                                            style="width: 150px"></td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"
                                            *ngIf="currencyID !== accountCurrencyID">
                                        </td>
<!--                                        <td class="cell-Table jsgrid-align-right"-->
<!--                                            style="width: 150px"></td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"></td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"
                                            *ngIf="currencyID !== accountCurrencyID">
                                        </td>
<!--                                        <td class="cell-Table jsgrid-align-right"-->
<!--                                            style="width: 150px"></td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"></td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"></td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"></td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" disabled
                                                                        class="countRow input-Cell"
                                                                        value="{{'ebwebApp.purchaseOrder.countLine'| translate}} : {{pPPayVendorBills?.length}}">
                                        </td>
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled></td>
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled></td>
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled></td>
<!--                                        <td class="cell-Table"-->
<!--                                            style="width: 150px"><input type="text" class="countRow input-Cell"-->
<!--                                                                        disabled>-->
<!--                                        </td>-->
<!--                                        <td class="cell-Table"-->
<!--                                            style="width: 150px"-->
<!--                                            *ngIf="currencyID !== accountCurrencyID"><input type="text" class="countRow input-Cell"-->
<!--                                                                              disabled>-->
<!--                                        </td>-->
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled></td>
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled></td>
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled></td>

                                        <td class="cell-Table"
                                            style="width: 150px"
                                            *ngIf="currencyID !== accountCurrencyID"><input type="text" class="countRow input-Cell"
                                                                              disabled>
                                        </td>
<!--                                        <td class="cell-Table"-->
<!--                                            style="width: 150px"><input type="text" class="countRow input-Cell"-->
<!--                                                                        disabled></td>-->
                                        <td class="cell-Table"
                                            style="width: 150px">
                                            <input type="text"
                                                   class="countRow input-Cell jsgrid-align-right"
                                                   disabled
                                                   name="amountSum"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="currencyID !== accountCurrencyID ? 8 : 7"
                                                   [(ngModel)]="sumDebitAmountOriginal">
                                        </td>
                                        <td class="cell-Table"
                                            style="width: 150px"
                                            *ngIf="currencyID !== accountCurrencyID">
                                            <input type="text"
                                                   class="countRow input-Cell jsgrid-align-right"
                                                   disabled
                                                   name="amountSum"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="7"
                                                   [(ngModel)]="sumDebitAmount">
                                        </td>
                                        <td class="cell-Table"
                                            style="width: 150px">
                                            <input type="text"
                                                   class="countRow input-Cell jsgrid-align-right"
                                                   disabled
                                                   name="amountSum"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="currencyID !== accountCurrencyID ? 8 : 7"
                                                   [(ngModel)]="sumAmountOriginalBills">
                                        </td>
                                        <td class="cell-Table"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID">
                                            <input type="text"
                                                   class="countRow input-Cell jsgrid-align-right"
                                                   disabled
                                                   name="amountSum"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="7"
                                                   [(ngModel)]="sumAmountBills">
                                        </td>
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled></td>
<!--                                        <td class="cell-Table"-->
<!--                                            style="width: 150px">-->
<!--                                            <input type="text"-->
<!--                                                   class="countRow input-Cell jsgrid-align-right"-->
<!--                                                   disabled-->
<!--                                                   name="amountSum"-->
<!--                                                   ebCurrencyMask-->
<!--                                                   [systemOptions]="account?.systemOption"-->
<!--                                                   [type]="DDSo_TienVND"-->
<!--                                                   [(ngModel)]="sumDiffAmount">-->
<!--                                        </td>-->
                                        <td class="cell-Table"
                                            style="width: 150px">
                                            <input type="text"
                                                   class="countRow input-Cell jsgrid-align-right"
                                                   disabled
                                                   name="amountSum"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="currencyID !== accountCurrencyID ? 8 : 7"
                                                   [(ngModel)]="sumDiscountAmountOriginal">
                                        </td>
                                        <td class="cell-Table"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID">
                                            <input type="text"
                                                   class="countRow input-Cell jsgrid-align-right"
                                                   disabled
                                                   name="amountSum"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="7"
                                                   [(ngModel)]="sumDiscountAmount">
                                        </td>
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled>
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </ngb-tab>
            <ngb-tab>
                <ng-template ngbTabTitle>Hạch toán</ng-template>
                <ng-template ngbTabContent>
                    <div class="tab-content">
                        <div class="frm-main frm-padding tab-pane fade in active show" id="home-tax"
                             style="background: #cbdcf0">
                            <div id="table-scroll-tax" class="table-scroll">
                                <table id="main-table-tax" class="main-table"
                                       (keydown.arrowDown)="moveArrowDown($event,12)"
                                       (keydown.arrowUp)="moveArrowUp($event,12)">
                                    <thead>
                                    <tr>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.description"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.debitAccount"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.creditAccount"></th>
                                        <th scope="col"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.totalAmountOriginal"></th>
                                        <th scope="col" *ngIf="currencyID !== accountCurrencyID"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.totalAmount"></th>
                                        <th scope="col"
                                            jhiTranslate="ebwebApp.pPPayVendorDetail.accountingObjectCode"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.budgetItemID"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.expenseItemID"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.departmentID"></th>
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.costSetID"></th>
<!--                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.emContractID"></th>-->
                                        <th scope="col" jhiTranslate="ebwebApp.pPPayVendorDetail.statisticsID"></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr oncontextmenu="return false;"
                                        *ngFor="let pPPayVendorAccounting of pPPayVendorAccountings; let i = index"
                                        (contextmenu)="onrightClick($event, pPPayVendorAccountings, pPPayVendorAccounting, true, true, true)"
                                        (keydown.control.insert)="addNewRow()"
                                        (keydown.control.delete)="keyPress(i)"
                                        (keydown.control.c)="copyRow(pPPayVendorAccounting)"
                                        (click)="currentRow = i">
                                        <td class="cell-Table jsgrid-align-left"
                                            style="width: 150px"><input type="text" class="input-Cell"
                                                                        id="description{{i}}"
                                                                        [(ngModel)]="pPPayVendorAccounting.description"
                                                                        (focus)="actionFocus(4, i, 'description')"
                                                                        [tabindex]="17 + (12 * i * 2) + 1">
                                        </td>
                                        <td class="cell-Table jsgrid-align-center">
                                            <combo-box idIp="debitAccount{{i}}"
                                                       nameIp="debitAccount{{i}}"
                                                       [dataList]="debitAccountList"
                                                       [listColumns]="utilsService.listColumnsAccountList"
                                                       displayMember="accountNumber"
                                                       valueName="accountNumber"
                                                       [headerColumns]="utilsService.listHeaderColumnsAccountList"
                                                       [isObject]="false"
                                                       [(ngModel)]="pPPayVendorAccounting.debitAccount"
                                                       (focusInput)="actionFocus(4, i, 'debitAccount')"
                                                       [tabindex]="17 + (12 * i * 2) + 2">
                                            </combo-box>
                                        </td>
                                        <td class="cell-Table jsgrid-align-center">
                                            <combo-box idIp="creditAccount{{i}}"
                                                       nameIp="creditAccount{{i}}"
                                                       [dataList]="creditAccountList"
                                                       [listColumns]="utilsService.listColumnsAccountList"
                                                       displayMember="accountNumber"
                                                       valueName="accountNumber"
                                                       [headerColumns]="utilsService.listHeaderColumnsAccountList"
                                                       [isObject]="false"
                                                       [(ngModel)]="pPPayVendorAccounting.creditAccount"
                                                       (focusInput)="actionFocus(4, i, 'creditAccount')"
                                                       [tabindex]="17 + (12 * i * 2) + 3">
                                            </combo-box>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                            <input type="number"
                                                   class="input-Cell jsgrid-align-right"
                                                   id="totalAmountOriginal{{i}}"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="currencyID !== accountCurrencyID ? 8 : 7"
                                                   [(ngModel)]="pPPayVendorAccounting.totalAmountOriginal"
                                                   (focus)="actionFocus(4, i, 'totalAmountOriginal')"
                                                   [tabindex]="17 + (12 * i * 2) + 4"/>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID">
                                            <input type="number"
                                                   class="input-Cell jsgrid-align-right"
                                                   id="totalAmount{{i}}"
                                                   ebCurrencyMask
                                                   [systemOptions]="account?.systemOption"
                                                   [type]="7"
                                                   [(ngModel)]="pPPayVendorAccounting.totalAmount"
                                                   (focus)="actionFocus(4, i, 'totalAmount')"
                                                   [tabindex]="17 + (12 * i * 2) + 5"/>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" class="input-Cell"
                                                                        id="accountingObjectCode{{i}}"
                                                                        [(ngModel)]="pPPayVendorAccounting.accountingObjectCode"
                                                                        (focus)="actionFocus(4, i, 'accountingObjectCode')"
                                                                        [tabindex]="17 + (12 * i * 2) + 6">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                            <combo-box idIp="budgetItem{{i}}"
                                                       nameIp="budgetItem{{i}}"
                                                       [dataList]="budgetItems"
                                                       [listColumns]="utilsService.listColumnsBudgetItem"
                                                       displayMember="budgetItemCode"
                                                       valueName="id"
                                                       [headerColumns]="utilsService.listHeaderColumnsBudgetItem"
                                                       [isObject]="true"
                                                       [(ngModel)]="pPPayVendorAccounting.budgetItem"
                                                       [nameCategory]="utilsService.MUC_THU_CHI"
                                                       [showIconPlus]="true"
                                                       (click)="saveDetails(i)"
                                                       (focusInput)="actionFocus(4, i, 'budgetItem')"
                                                       [tabindex]="17 + (12 * i * 2) + 7"
                                            ></combo-box>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                            <combo-box idIp="expenseItem{{i}}"
                                                       nameIp="expenseItem{{i}}"
                                                       [dataList]="expenseItems"
                                                       [listColumns]="utilsService.listColumnsExpenseItem"
                                                       displayMember="expenseItemCode"
                                                       valueName="id"
                                                       [headerColumns]="utilsService.listHeaderColumnsExpenseItem"
                                                       [isObject]="true"
                                                       [(ngModel)]="pPPayVendorAccounting.expenseItem"
                                                       [nameCategory]="utilsService.KHOAN_MUC_CHI_PHI"
                                                       [showIconPlus]="true"
                                                       (click)="saveDetails(i)"
                                                       (focusInput)="actionFocus(4, i, 'expenseItem')"
                                                       [tabindex]="17 + (12 * i * 2) + 8"
                                            ></combo-box>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                            <combo-box idIp="department{{i}}"
                                                       nameIp="department{{i}}"
                                                       [dataList]="organizationUnits"
                                                       [listColumns]="utilsService.listColumnsOrganizationUnit"
                                                       displayMember="organizationUnitCode"
                                                       valueName="id"
                                                       [headerColumns]="utilsService.listHeaderColumnsOrganizationUnit"
                                                       [isObject]="true"
                                                       [(ngModel)]="pPPayVendorAccounting.department"
                                                       [nameCategory]="utilsService.PHONG_BAN"
                                                       [showIconPlus]="true"
                                                       (click)="saveDetails(i)"
                                                       (focusInput)="actionFocus(4, i, 'department')"
                                                       [tabindex]="17 + (12 * i * 2) + 9"
                                            ></combo-box>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                            <combo-box idIp="costSet{{i}}"
                                                       nameIp="costSet{{i}}"
                                                       [dataList]="costSets"
                                                       [listColumns]="utilsService.listColumnsCostSet"
                                                       displayMember="costSetCode"
                                                       valueName="id"
                                                       [headerColumns]="utilsService.listHeaderColumnsCostSet"
                                                       [isObject]="true"
                                                       [(ngModel)]="pPPayVendorAccounting.costSet"
                                                       [nameCategory]="utilsService.DOI_TUONG_TAP_HOP_CHI_PHI"
                                                       [showIconPlus]="true"
                                                       (click)="saveDetails(i)"
                                                       (focusInput)="actionFocus(4, i, 'costSet')"
                                                       [tabindex]="17 + (12 * i * 2) + 10"
                                            ></combo-box>
                                        </td>
<!--                                        <td class="cell-Table jsgrid-align-right"-->
<!--                                            style="width: 150px">-->
<!--                                            <combo-box-->
<!--                                                nameIp="contract"-->
<!--                                                [dataList]="eMContracts"-->
<!--                                                [listColumns]="isSoTaiChinh ? utilsService.listColumnsEMContractFBook: utilsService.listColumnsEMContractMBook"-->
<!--                                                displayMember="{{isSoTaiChinh ? 'noFBook' : 'noMBook'}}"-->
<!--                                                valueName="id"-->
<!--                                                [headerColumns]="utilsService.listHeaderColumnsEMContract"-->
<!--                                                [isObject]="false"-->
<!--                                                [(ngModel)]="pPPayVendorAccounting.emContractID"-->
<!--                                                [tabindex]="17 + (12 * i * 2) + 11">-->
<!--                                            </combo-box>-->
<!--                                        </td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                            <combo-box idIp="statisticsCode{{i}}"
                                                       nameIp="statisticsCode{{i}}"
                                                       [dataList]="statisticCodes"
                                                       [listColumns]="['statisticsCode', 'statisticsCodeName']"
                                                       displayMember="statisticsCode"
                                                       valueName="id"
                                                       [headerColumns]="['Mã thống kê', 'Tên mã thống kê']"
                                                       [isObject]="true"
                                                       [(ngModel)]="pPPayVendorAccounting.statisticsCode"
                                                       [nameCategory]="utilsService.MA_THONG_KE"
                                                       [showIconPlus]="true"
                                                       (click)="saveDetails(i)"
                                                       [tabindex]="17 + (12 * i * 2) + 12"
                                                       (focusInput)="actionFocus(4, i, 'statisticsCode')"
                                                       (keydown.tab)="addIfLastInput(i)"
                                            ></combo-box>
                                        </td>
                                    </tr>
                                    <tr (click)="addNewRow()">
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="description" class="input-Cell" value="Thêm dòng mới ...." disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="debitAccount" class="input-Cell"  disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="creditAccount" class="input-Cell"  disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="totalAmountOriginal" class="input-Cell"  disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID">
                                            <input type="text" id="totalAmount" class="input-Cell"  disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="accountingObjectCode" class="input-Cell"  disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="budgetItem" class="input-Cell"  disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="expenseItem" class="input-Cell"  disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="department" class="input-Cell"  disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="costSet" class="input-Cell"  disabled>
                                        </td>
                                        <!--                                        <td class="cell-Table jsgrid-align-right"-->
                                        <!--                                            style="width: 150px">-->
                                        <!--                                        </td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" id="statisticsCode" class="input-Cell"  disabled>
                                        </td>
                                    </tr>
                                    <tr *ngFor="let l of newArr(9 - pPPayVendorAccountings?.length)">
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" class="input-Cell" disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
<!--                                        <td class="cell-Table jsgrid-align-right"-->
<!--                                            style="width: 150px">-->
<!--                                        </td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px">
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <td class="cell-Table"
                                            style="width: 150px"><input type="text" disabled
                                                                        class="countRow input-Cell"
                                                                        value="{{'ebwebApp.purchaseOrder.countLine'| translate}} : {{pPPayVendorAccountings?.length}}">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text"
                                                                        class="countRow input-Cell jsgrid-align-right"
                                                                        disabled
                                                                        name="amountSum"
                                                                        ebCurrencyMask
                                                                        [systemOptions]="account?.systemOption"
                                                                        [type]="currencyID !== accountCurrencyID ? 8 : 7"
                                                                        [(ngModel)]="sumAmountOriginalBills">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px" *ngIf="currencyID !== accountCurrencyID"><input
                                            type="text"
                                            class="countRow input-Cell jsgrid-align-right"
                                            disabled
                                            name="amountSum"
                                            ebCurrencyMask
                                            [systemOptions]="account?.systemOption"
                                            [type]="7"
                                            [(ngModel)]="sumAmountBills">
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled>
                                        </td>
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled>
                                        </td>
<!--                                        <td class="cell-Table jsgrid-align-right"-->
<!--                                            style="width: 150px"><input type="text" class="countRow input-Cell"-->
<!--                                                                        disabled>-->
<!--                                        </td>-->
                                        <td class="cell-Table jsgrid-align-right"
                                            style="width: 150px"><input type="text" class="countRow input-Cell"
                                                                        disabled>
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </ngb-tab>
        </ngb-tabset>
    </div>
    <eb-context-menu [contextMenu]="contextMenu" [eventHandlingHere]="true" [useCopyRow]="true"></eb-context-menu>
</div>
<ng-template #question let-modal>
    <div class="modal-body">
        <form>
            <div class="form-group">
                <label jhiTranslate="ebwebApp.pPPayVendor.questionView" translateValues="{no: '{{viewNo}}'}"></label>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="closeQuestion()"
                jhiTranslate="entity.action.no"></button>
        <button type="button" class="btn btn-outline-success" (click)="viewRelateVoucher()"
                jhiTranslate="entity.action.yes"></button>
    </div>
</ng-template>

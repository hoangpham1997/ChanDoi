<div class="container-fluid">
    <div class="margin-tp-5 margin-0">
        <div class="">
            <div class="itemw">
                <div class="menu-tool-bar header-custom">
                    <div class="ptitle">
                        <span jhiTranslate="ebwebApp.iARegisterInvoice.home.title">Khởi tạo hóa đơn</span>
                    </div>
                    <div class="gr-toolbar">
                        <a title="{{'ebwebApp.outWard.tooltipSave' | translate}}" *ebHasSomeAuthority="['ROLE_ADMIN', this.isEditUrl ? !ROLE_THEM : ROLE_THEM, ROLE_SUA]" (click)="save()" class="saveLuu"><i class="mdi mdi-briefcase-download"></i> <span
                            jhiTranslate="ebwebApp.autoPrinciple.save"></span></a>
                        <a title="{{'ebwebApp.outWard.tooltipBack' | translate}}" (click)="closeForm()">
                            <i class="mdi mdi-window-close"></i>
                            <span jhiTranslate="ebwebApp.autoPrinciple.closed"></span>
                        </a>
                    </div>
                </div>
                <div class="frm-main">
                    <div class="form-group row">
                        <div class="col-4 row no-gutters">
                            <label class="col-form-label-1">
                                <span jhiTranslate="ebwebApp.iARegisterInvoice.date">Ngày đăng ký</span>
                            </label>
                            <div class="col-sm-auto pd-l-0 pd-r-30 type-1">
                                <eb-date-picker  id="date" [(ngModel)]="iaRegisterInvoice.date" name="date"
                                                format="YYYY-MM-DD" [isRequired]="true" [disabled]="(!checkEditRoleSua && isEditUrl) || (!checkEditRoleThem && isNew)"></eb-date-picker>
                            </div>
                        </div>
                        <div class="col-4 row">
                            <label class="col-sm- col-form-label-2"><span jhiTranslate="ebwebApp.iARegisterInvoice.no">Số đăng ký</span></label>
                            <div class="col-sm-auto pd-l-0 pd-r-30 type-2">
                                <input  style="height: 28px !important;" id="no" name="no" type="text" class="form-control form-control-sm"
                                       [(ngModel)]="iaRegisterInvoice.no" [disabled]="(!checkEditRoleSua && isEditUrl) || (!checkEditRoleThem && isNew)">
                            </div>
                        </div>
                        <div class="col-4 row">
                            <label class="col-sm- col-form-label-3" for="noi-dung">
                                <span jhiTranslate="ebwebApp.iARegisterInvoice.description">Noi dung</span>
                            </label>
                            <div class="col-sm-auto pd-l-0 pd-r-30 type-3">
                                <input style="height: 28px !important;"  id="noi-dung" name="noi-dung" type="text" class="form-control form-control-sm"
                                       [(ngModel)]="iaRegisterInvoice.description" [disabled]="(!checkEditRoleSua && isEditUrl) || (!checkEditRoleThem && isNew)">
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-4 row no-gutters">
                            <label class="col-sm- col-form-label-4"><span jhiTranslate="ebwebApp.iARegisterInvoice.signer">Người ký</span></label>
                            <div class="col-sm-auto pd-l-0 pd-r-30 type-4">
                                <input  name="nguoi-ky" type="text" class="form-control form-control-sm"
                                       [(ngModel)]="iaRegisterInvoice.signer" [disabled]="(!checkEditRoleSua && isEditUrl) || (!checkEditRoleThem && isNew)">
                            </div>
                        </div>
                        <div class="col-4 row">
                            <label class="col-form-label-5"><span jhiTranslate="ebwebApp.iARegisterInvoice.status">Trạng thái</span></label>
                            <div class="col-sm-auto pd-l-0 pd-r-30 type-5">
                                <select  name="status" class="form-control form-control-sm"
                                        [(ngModel)]="iaRegisterInvoice.status" [disabled]="(!checkEditRoleSua && isEditUrl) || (!checkEditRoleThem && isNew)">
                                    <option [ngValue]="0" jhiTranslate="ebwebApp.iARegisterInvoice.status.0">
                                        Chưa có hiệu lực
                                    </option>
                                    <option [ngValue]="1" jhiTranslate="ebwebApp.iARegisterInvoice.status.1">
                                        Đã có hiệu lực
                                    </option>
                                </select>
                            </div>
                        </div>
<!--                            <div class="col-6">-->
<!--                                <label jhiTranslate="ebwebApp.iARegisterInvoice.attachFileName">Tên file đính kèm</label>-->
<!--                                <div class="input-group">-->
<!--                                    <div class="input-group-prepend">-->
<!--                                        <button jhiTranslate="entity.action.download" class="btn btn-outline-secondary" type="button" (click)="downloadAttachFile()">Download</button>-->
<!--                                    </div>-->
<!--                                    <div class="custom-file">-->
<!--                                        <input type="file" class="custom-file-input" id="inputGroupFile" [(ngModel)]="file" (change)="changeFiles($event.target)">-->
<!--                                        <label class="custom-file-label" for="inputGroupFile">{{iaRegisterInvoice.attachFileName}}</label>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
                </div>
                <div class="frm-main frm-tables frm-padding" style="background: #cbdcf0;" [class.isReadonly]="(!checkEditRoleSua && isEditUrl) || (!checkEditRoleThem && isNew)">
                    <div id="table-scroll0" class="table-scroll">
                        <table id="main-table0" class="main-table">
                            <thead>
                            <tr>
                                <th scope="col" style="width: 80px">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="check-all"
                                               [(ngModel)]="checkAllBox" (ngModelChange)="checkAll()">
                                        <label class="custom-control-label" for="check-all"></label>
                                    </div>
                                </th>
                                <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.iAReport.hinhThucHoaDon">
                                    Hình thức
                                </th>
                                <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.iAReport.loaiHoaDon">Loại
                                    hóa đơn
                                </th>
                                <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.iAReport.mauSoHD">Mẫu số
                                </th>
                                <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.iAReport.kyTuHD">Ký hiệu
                                </th>
                                <th scope="col" style="width: 150px" jhiTranslate="ebwebApp.iAReport.mucDich">Mục đích
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let iaReport of iaReports; let i = index">
                                <td class="text-center">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" name="{{'checkbox' + i}}"
                                               id="{{'checkbox' + i}}" [(ngModel)]="iaReport.isCheck" (ngModelChange)="isCheckAll()">
                                        <label class="custom-control-label" for="{{'checkbox' + i}}"></label>
                                    </div>
                                </td>
                                <td title="{{iaReport.invoiceForm}}" class="jsgrid-cell">
                                <span *ngIf="iaReport.invoiceForm === 0"
                                      jhiTranslate="ebwebApp.iAReport.hinhThucHoaDon.0">
                                    Hóa đơn điện tử
                                </span>
                                    <span *ngIf="iaReport.invoiceForm === 1"
                                          jhiTranslate="ebwebApp.iAReport.hinhThucHoaDon.1">
                                    Hóa đơn đặt in
                                </span>
                                    <span *ngIf="iaReport.invoiceForm === 2"
                                          jhiTranslate="ebwebApp.iAReport.hinhThucHoaDon.2">
                                    Hóa đơn tự in
                                </span>
                                </td>
                                <td title="{{iaReport?.invoiceType?.invoiceTypeName}}"
                                    class="jsgrid-cell">
                                    {{iaReport?.invoiceType?.invoiceTypeName | truncateCharacters: 30:true }}
                                </td>
                                <td title="{{iaReport.invoiceTemplate}}"
                                    class="jsgrid-cell">{{iaReport.invoiceTemplate}}</td>
                                <td title="{{iaReport.invoiceSeries}}"
                                    class="jsgrid-cell">{{iaReport.invoiceSeries}}</td>
                                <td class="cell-Table">
                                    <input type="text" [(ngModel)]="iaReport.purpose" class="input-Cell">
                                </td>
                            </tr>
                            <tr *ngFor="let item of newArr(10 - (iaReports?.length || 0)); let i = index">
                                <td class="jsgrid-cell">&nbsp;</td>
                                <td class="jsgrid-cell">&nbsp;</td>
                                <td class="jsgrid-cell">&nbsp;</td>
                                <td class="jsgrid-cell">&nbsp;</td>
                                <td class="jsgrid-cell">&nbsp;</td>
                                <td class="jsgrid-cell">&nbsp;</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #content let-modal>
    <div class="modal-body">
        <form>
            <div class="form-group">
                <label jhiTranslate="ebwebApp.saBill.saveMessage">Dữ liệu đã bị thay đổi, Bạn có muốn lưu lại?</label>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-success" (click)="save()" jhiTranslate="entity.action.save">Save</button>
        <button type="button" class="btn btn-outline-danger" (click)="close()" jhiTranslate="entity.action.noSave">Save</button>
        <button type="button" class="btn btn-outline-dark" (click)="modalRef.close(); isClosing = false" jhiTranslate="entity.action.close">close</button>
    </div>
</ng-template>

